const t={};function e(e){t.context=e}const n=Symbol("solid-proxy"),r=Symbol("solid-track"),o={equals:(t,e)=>t===e};let i=null,c=B;const s={},u={owned:null,cleanups:null,context:null,owner:null},[a,l]=w(!1);var p=null;let d,f=null,v=null,m=null,h=null,g=null,_=0;function y(t,e){const n=v,r=p,o=0===t.length?u:{owned:null,cleanups:null,context:null,owner:e||r};p=o,v=null;try{return F((()=>t((()=>G(o)))),!0)}finally{v=n,p=r}}function w(t,e){e=e?Object.assign({},o,e):o;const n={value:t,observers:null,observerSlots:null,pending:s,comparator:e.equals||void 0};return[j.bind(n),t=>("function"==typeof t&&(t=f&&f.running&&f.sources.has(n)?t(n.pending!==s?n.pending:n.tValue):t(n.pending!==s?n.pending:n.value)),R(n,t))]}function b(t,e,n){V(D(t,e,!0,1))}function k(t,e,n){V(D(t,e,!1,1))}function $(t,e,n){c=U;const r=D(t,e,!1,1),o=d&&Y(p,d.id);o&&(r.suspense=o),r.user=!0,g?g.push(r):V(r)}function x(t,e,n){n=n?Object.assign({},o,n):o;const r=D(t,e,!0,0);return r.pending=s,r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,V(r),j.bind(r)}function M(e,n,r){2===arguments.length?"object"==typeof n&&(r=n,n=e,e=!0):1===arguments.length&&(n=e,e=!0),r||(r={});const o=new Set,[i,c]=w(r.initialValue),[s,u]=w(void 0,{equals:!1}),[a,l]=w(!1),[m,h]=w();let _,y=null,k=null,$=null,M=!1,T=!1,z="initialValue"in r,S="function"==typeof e&&x(e);function I(t,e,n,o){return y===t&&(y=null,z=!0,k&&(t===k||e===k)&&r.onHydrated&&queueMicrotask((()=>r.onHydrated(o,{value:e}))),k=null,h(_=n),f&&t&&M?(f.promises.delete(t),M=!1,F((()=>{f.running=!0,f.promises.size||(g.push.apply(g,f.effects),f.effects=[]),C(e)}),!1)):C(e)),e}function C(t){A((()=>{c((()=>t)),l(!1);for(const t of o.keys())t.decrement();o.clear()}))}function O(){const t=d&&Y(p,d.id),e=i();if(_)throw _;return v&&!v.user&&t&&b((()=>{s(),y&&(t.resolved&&f?f.promises.add(y):o.has(t)||(t.increment(),o.add(t)))})),e}function L(t=!0){if(t&&T)return;T=!1,h(_=void 0);const r=S?S():e;if(M=f&&f.running,null==r||!1===r)return void I(y,P(i));f&&y&&f.promises.delete(y);const o=k||P((()=>n(r,{value:i(),refetching:t})));return"object"==typeof o&&"then"in o?(y=o,T=!0,queueMicrotask((()=>T=!1)),A((()=>{l(!0),u()})),o.then((t=>I(o,t,void 0,r)),(t=>I(o,t,t)))):(I(y,o),o)}return t.context&&($=`${t.context.id}${t.context.count++}`,t.load&&(k=t.load($))),Object.defineProperties(O,{loading:{get:()=>a()},error:{get:()=>m()},latest:{get(){if(!z)return O();if(_)throw _;return i()}}}),S?b((()=>L(!1))):L(!1),[O,{refetch:L,mutate:c}]}function A(t){if(m)return t();let e;const n=m=[];try{e=t()}finally{m=null}return F((()=>{for(let t=0;t<n.length;t+=1){const e=n[t];if(e.pending!==s){const t=e.pending;e.pending=s,R(e,t)}}}),!1),e}function P(t){let e,n=v;return v=null,e=t(),v=n,e}function T(t,e,n){const r=Array.isArray(t);let o,i=n&&n.defer;return n=>{let c;if(r){c=Array(t.length);for(let e=0;e<t.length;e++)c[e]=t[e]()}else c=t();if(i)return void(i=!1);const s=P((()=>e(c,o,n)));return o=c,s}}function z(t){$((()=>P(t)))}function S(t){return null===p||(null===p.cleanups?p.cleanups=[t]:p.cleanups.push(t)),t}function I(){return v}function C(){return p}function O(t){if(f&&f.running)return t(),f.done;const e=v,n=p;return Promise.resolve().then((()=>{let r;return v=e,p=n,d&&(r=f||(f={sources:new Set,effects:[],promises:new Set,disposed:new Set,queue:new Set,running:!0}),r.done||(r.done=new Promise((t=>r.resolve=t))),r.running=!0),A(t),v=p=null,r?r.done:void 0}))}function L(t){const e=Symbol("context");return{id:e,Provider:X(e),defaultValue:t}}function q(t){let e;return void 0!==(e=Y(p,t.id))?e:t.defaultValue}function E(t){const e=x(t);return x((()=>J(e())))}function j(){const t=f&&f.running;if(this.sources&&(!t&&this.state||t&&this.tState)){const e=h;h=null,!t&&1===this.state||t&&1===this.tState?V(this):K(this),h=e}if(v){const t=this.observers?this.observers.length:0;v.sources?(v.sources.push(this),v.sourceSlots.push(t)):(v.sources=[this],v.sourceSlots=[t]),this.observers?(this.observers.push(v),this.observerSlots.push(v.sources.length-1)):(this.observers=[v],this.observerSlots=[v.sources.length-1])}return t&&f.sources.has(this)?this.tValue:this.value}function R(t,e,n){if(m)return t.pending===s&&m.push(t),t.pending=e,e;if(t.comparator)if(f&&f.running&&f.sources.has(t)){if(t.comparator(t.tValue,e))return e}else if(t.comparator(t.value,e))return e;let r=!1;return f?(r=f.running,(r||!n&&f.sources.has(t))&&(f.sources.add(t),t.tValue=e),r||(t.value=e)):t.value=e,t.observers&&t.observers.length&&F((()=>{for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];r&&f.disposed.has(n)||((r&&!n.tState||!r&&!n.state)&&(n.pure?h.push(n):g.push(n),n.observers&&Z(n)),r?n.tState=1:n.state=1)}if(h.length>1e6)throw h=[],new Error}),!1),e}function V(t){if(!t.fn)return;G(t);const e=p,n=v,r=_;v=p=t,H(t,f&&f.running&&f.sources.has(t)?t.tValue:t.value,r),f&&!f.running&&f.sources.has(t)&&queueMicrotask((()=>{F((()=>{f&&(f.running=!0),H(t,t.tValue,r)}),!1)})),v=n,p=e}function H(t,e,n){let r;try{r=t.fn(e)}catch(o){Q(o)}(!t.updatedAt||t.updatedAt<=n)&&(t.observers&&t.observers.length?R(t,r,!0):f&&f.running&&t.pure?(f.sources.add(t),t.tValue=r):t.value=r,t.updatedAt=n)}function D(t,e,n,r=1,o){const i={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:p,context:null,pure:n};return f&&f.running&&(i.state=0,i.tState=r),null===p||p!==u&&(f&&f.running&&p.pure?p.tOwned?p.tOwned.push(i):p.tOwned=[i]:p.owned?p.owned.push(i):p.owned=[i]),i}function N(t){const e=f&&f.running;if(!e&&0===t.state||e&&0===t.tState)return;if(!e&&2===t.state||e&&2===t.tState)return K(t);if(t.suspense&&P(t.suspense.inFallback))return t.suspense.effects.push(t);const n=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<_);){if(e&&f.disposed.has(t))return;(!e&&t.state||e&&t.tState)&&n.push(t)}for(let r=n.length-1;r>=0;r--){if(t=n[r],e){let e=t,o=n[r+1];for(;(e=e.owner)&&e!==o;)if(f.disposed.has(e))return}if(!e&&1===t.state||e&&1===t.tState)V(t);else if(!e&&2===t.state||e&&2===t.tState){const e=h;h=null,K(t,n[0]),h=e}}}function F(t,e){if(h)return t();let n=!1;e||(h=[]),g?n=!0:g=[],_++;try{const e=t();return function(t){if(h&&(B(h),h=null),t)return;let e;if(f&&f.running){if(f.promises.size||f.queue.size)return f.running=!1,f.effects.push.apply(f.effects,g),g=null,void l(!0);const t=f.sources;e=f.resolve,g.forEach((t=>{"tState"in t&&(t.state=t.tState),delete t.tState})),f=null,A((()=>{t.forEach((t=>{if(t.value=t.tValue,t.owned)for(let e=0,n=t.owned.length;e<n;e++)G(t.owned[e]);t.tOwned&&(t.owned=t.tOwned),delete t.tValue,delete t.tOwned,t.tState=0})),l(!1)}))}g.length?A((()=>{c(g),g=null})):g=null,e&&e()}(n),e}catch(r){Q(r)}finally{h=null,n||(g=null)}}function B(t){for(let e=0;e<t.length;e++)N(t[e])}function U(n){let r,o=0;for(r=0;r<n.length;r++){const t=n[r];t.user?n[o++]=t:N(t)}t.context&&e();const i=n.length;for(r=0;r<o;r++)N(n[r]);for(r=i;r<n.length;r++)N(n[r])}function K(t,e){const n=f&&f.running;n?t.tState=0:t.state=0;for(let r=0;r<t.sources.length;r+=1){const o=t.sources[r];o.sources&&(!n&&1===o.state||n&&1===o.tState?o!==e&&N(o):(!n&&2===o.state||n&&2===o.tState)&&K(o,e))}}function Z(t){const e=f&&f.running;for(let n=0;n<t.observers.length;n+=1){const r=t.observers[n];(!e&&!r.state||e&&!r.tState)&&(e?r.tState=2:r.state=2,r.pure?h.push(r):g.push(r),r.observers&&Z(r))}}function G(t){let e;if(t.sources)for(;t.sources.length;){const e=t.sources.pop(),n=t.sourceSlots.pop(),r=e.observers;if(r&&r.length){const t=r.pop(),o=e.observerSlots.pop();n<r.length&&(t.sourceSlots[o]=n,r[n]=t,e.observerSlots[n]=o)}}if(f&&f.running&&t.pure){if(t.tOwned){for(e=0;e<t.tOwned.length;e++)G(t.tOwned[e]);delete t.tOwned}W(t,!0)}else if(t.owned){for(e=0;e<t.owned.length;e++)G(t.owned[e]);t.owned=null}if(t.cleanups){for(e=0;e<t.cleanups.length;e++)t.cleanups[e]();t.cleanups=null}f&&f.running?t.tState=0:t.state=0,t.context=null}function W(t,e){if(e||(t.tState=0,f.disposed.add(t)),t.owned)for(let n=0;n<t.owned.length;n++)W(t.owned[n])}function Q(t){const e=i&&Y(p,i);if(!e)throw t;e.forEach((e=>e(t)))}function Y(t,e){return t?t.context&&void 0!==t.context[e]?t.context[e]:Y(t.owner,e):void 0}function J(t){if("function"==typeof t&&!t.length)return J(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const r=J(t[n]);Array.isArray(r)?e.push.apply(e,r):e.push(r)}return e}return t}function X(t){return function(e){let n;return b((()=>n=P((()=>(p.context={[t]:e.value},E((()=>e.children))))))),n}}const tt=Symbol("fallback");function et(t){for(let e=0;e<t.length;e++)t[e]()}function nt(t,e){return P((()=>t(e||{})))}function rt(){return!0}const ot={get:(t,e,r)=>e===n?r:t.get(e),has:(t,e)=>t.has(e),set:rt,deleteProperty:rt,getOwnPropertyDescriptor:(t,e)=>({configurable:!0,enumerable:!0,get:()=>t.get(e),set:rt,deleteProperty:rt}),ownKeys:t=>t.keys()};function it(t){return null==(t="function"==typeof t?t():t)?{}:t}function ct(...t){return new Proxy({get(e){for(let n=t.length-1;n>=0;n--){const r=it(t[n])[e];if(void 0!==r)return r}},has(e){for(let n=t.length-1;n>=0;n--)if(e in it(t[n]))return!0;return!1},keys(){const e=[];for(let n=0;n<t.length;n++)e.push(...Object.keys(it(t[n])));return[...new Set(e)]}},ot)}function st(t,...e){const n=new Set(e.flat()),r=Object.getOwnPropertyDescriptors(t),o=e.map((e=>{const n={};for(let o=0;o<e.length;o++){const i=e[o];Object.defineProperty(n,i,r[i]?r[i]:{get:()=>t[i],set:()=>!0})}return n}));return o.push(new Proxy({get:e=>n.has(e)?void 0:t[e],has:e=>!n.has(e)&&e in t,keys:()=>Object.keys(t).filter((t=>!n.has(t)))},ot)),o}function ut(n){let r,o;const i=i=>{const c=t.context;if(c){const[t,i]=w();(o||(o=n())).then((t=>{e(c),i((()=>t.default)),e()})),r=t}else if(r){const t=r();if(t)return t(i)}else{const[t]=M((()=>(o||(o=n())).then((t=>t.default))));r=t}let s;return x((()=>(s=r())&&P((()=>{if(!c)return s(i);const n=t.context;e(c);const r=s(i);return e(n),r}))))};return i.preload=()=>o||((o=n()).then((t=>r=()=>t.default)),o),i}function at(t){const e="fallback"in t&&{fallback:()=>t.fallback};return x(function(t,e,n={}){let o=[],i=[],c=[],s=0,u=e.length>1?[]:null;return S((()=>et(c))),()=>{let a,l,p=t()||[];return p[r],P((()=>{let t,e,r,f,v,m,h,g,_,w=p.length;if(0===w)0!==s&&(et(c),c=[],o=[],i=[],s=0,u&&(u=[])),n.fallback&&(o=[tt],i[0]=y((t=>(c[0]=t,n.fallback()))),s=1);else if(0===s){for(i=new Array(w),l=0;l<w;l++)o[l]=p[l],i[l]=y(d);s=w}else{for(r=new Array(w),f=new Array(w),u&&(v=new Array(w)),m=0,h=Math.min(s,w);m<h&&o[m]===p[m];m++);for(h=s-1,g=w-1;h>=m&&g>=m&&o[h]===p[g];h--,g--)r[g]=i[h],f[g]=c[h],u&&(v[g]=u[h]);for(t=new Map,e=new Array(g+1),l=g;l>=m;l--)_=p[l],a=t.get(_),e[l]=void 0===a?-1:a,t.set(_,l);for(a=m;a<=h;a++)_=o[a],l=t.get(_),void 0!==l&&-1!==l?(r[l]=i[a],f[l]=c[a],u&&(v[l]=u[a]),l=e[l],t.set(_,l)):c[a]();for(l=m;l<w;l++)l in r?(i[l]=r[l],c[l]=f[l],u&&(u[l]=v[l],u[l](l))):i[l]=y(d);i=i.slice(0,s=w),o=p.slice(0)}return i}));function d(t){if(c[l]=t,u){const[t,n]=w(l);return u[l]=n,e(p[l],t)}return e(p[l])}}}((()=>t.each),t.children,e||void 0))}function lt(t){const e="fallback"in t&&{fallback:()=>t.fallback};return x(function(t,e,n={}){let o,i=[],c=[],s=[],u=[],a=0;return S((()=>et(s))),()=>{const l=t()||[];return l[r],P((()=>{if(0===l.length)return 0!==a&&(et(s),s=[],i=[],c=[],a=0,u=[]),n.fallback&&(i=[tt],c[0]=y((t=>(s[0]=t,n.fallback()))),a=1),c;for(i[0]===tt&&(s[0](),s=[],i=[],c=[],a=0),o=0;o<l.length;o++)o<i.length&&i[o]!==l[o]?u[o]((()=>l[o])):o>=i.length&&(c[o]=y(p));for(;o<i.length;o++)s[o]();return a=u.length=s.length=l.length,i=l.slice(0),c=c.slice(0,a)}));function p(t){s[o]=t;const[n,r]=w(l[o]);return u[o]=r,e(n,o)}}}((()=>t.each),t.children,e||void 0))}function pt(t){let e=!1;const n=x((()=>t.when),void 0,{equals:(t,n)=>e?t===n:!t==!n});return x((()=>{const r=n();if(r){const n=t.children;return(e="function"==typeof n&&n.length>0)?P((()=>n(r))):n}return t.fallback}))}function dt(t){let e=!1;const n=E((()=>t.children)),r=x((()=>{let t=n();Array.isArray(t)||(t=[t]);for(let e=0;e<t.length;e++){const n=t[e].when;if(n)return[e,n,t[e]]}return[-1]}),void 0,{equals:(t,n)=>t[0]===n[0]&&(e?t[1]===n[1]:!t[1]==!n[1])&&t[2]===n[2]});return x((()=>{const[n,o,i]=r();if(n<0)return t.fallback;const c=i.children;return(e="function"==typeof c&&c.length>0)?P((()=>c(o))):c}))}function ft(t){return t}let vt;function mt(e){let n;t.context&&t.load&&(n=t.load(t.context.id+t.context.count));const[r,o]=w(n);let c;return vt||(vt=new Set),vt.add(o),S((()=>vt.delete(o))),x((()=>{if(null!=(c=r())){const t=e.fallback;return"function"==typeof t&&t.length?P((()=>t(c,(()=>o(null))))):t}var t;return t=o,i||(i=Symbol("error")),null===p||(null===p.context?p.context={[i]:[t]}:p.context[i]?p.context[i].push(t):p.context[i]=[t]),e.children}))}const ht=L();function gt(n){let r,o,i,c,s,u,a=0;const[l,p]=w(!1),f=d||(d=L({})),v={increment:()=>{1==++a&&p(!0)},decrement:()=>{0==--a&&p(!1)},inFallback:l,effects:[],resolved:!1},m=C();if(t.context){const n=t.context.id+t.context.count;if(c=t.load(n),c){"object"==typeof c&&"then"in c||(c=Promise.resolve(c));const[r,o]=w(void 0,{equals:!1});s=r,c.then((r=>{if((u=r)||t.done)return o();t.gather(n),e(i),o(),e()}))}}const h=q(ht);let _;return h&&([r,o]=h.register(v.inFallback)),S((()=>_&&_())),nt(f.Provider,{value:v,get children(){return x((()=>{if(u)throw u;if(i=t.context,s)return s(),s=void 0;i&&void 0===c&&e();const a=P((()=>n.children));return x((()=>{const t=v.inFallback(),s=!r||r(),u=!o||o();return _&&_(),t&&void 0===c||!s?u?y((t=>(_=t,i&&(e({id:i.id+"f",count:0}),i=void 0),n.fallback)),m):void 0:(v.resolved=!0,i=c=void 0,l=v.effects,g.push.apply(g,l),l.length=0,a);var l}))}))}})}const _t=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline","allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"]),yt=new Set(["innerHTML","textContent","innerText","children"]),wt={className:"class",htmlFor:"for"},bt={class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"},kt=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),$t=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),xt={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Mt(t,e){return x(t,void 0,e?void 0:{equals:e})}function At(t,e,n){const r=document.createElement("template");r.innerHTML=t;let o=r.content.firstChild;return n&&(o=o.firstChild),o}function Pt(t,e=window.document){const n=e.t||(e.t=new Set);for(let r=0,o=t.length;r<o;r++){const o=t[r];n.has(o)||(n.add(o),e.addEventListener(o,qt))}}function Tt(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function zt(t,e,n,r){r?Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n:Array.isArray(n)?t.addEventListener(e,(t=>n[0](n[1],t))):t.addEventListener(e,n)}function St(t,e,n={}){const r=t.style,o="string"==typeof n;if(null==e&&o||"string"==typeof e)return r.cssText=e;let i,c;for(c in o&&(r.cssText=void 0,n={}),e||(e={}),n)null==e[c]&&r.removeProperty(c),delete n[c];for(c in e)i=e[c],i!==n[c]&&(r.setProperty(c,i),n[c]=i);return n}function It(t,e,n,r){"function"==typeof e?k((o=>Et(t,e(),o,n,r))):Et(t,e,void 0,n,r)}function Ct(t,e,n,r){if(void 0===n||r||(r=[]),"function"!=typeof e)return jt(t,e,r,n);k((r=>jt(t,e(),r,n)),r)}function Ot(t,e,n){const r=e.trim().split(/\s+/);for(let o=0,i=r.length;o<i;o++)t.classList.toggle(r[o],n)}function Lt(t,e,n,r,o,i){let c,s,u;if("style"===e)return St(t,n,r);if("classList"===e)return function(t,e,n={}){const r=Object.keys(e||{}),o=Object.keys(n);let i,c;for(i=0,c=o.length;i<c;i++){const r=o[i];r&&"undefined"!==r&&!e[r]&&(Ot(t,r,!1),delete n[r])}for(i=0,c=r.length;i<c;i++){const o=r[i],c=!!e[o];o&&"undefined"!==o&&n[o]!==c&&c&&(Ot(t,o,!0),n[o]=c)}return n}(t,n,r);if(n===r)return r;if("ref"===e)i||n(t);else if("on:"===e.slice(0,3))t.addEventListener(e.slice(3),n);else if("oncapture:"===e.slice(0,10))t.addEventListener(e.slice(10),n,!0);else if("on"===e.slice(0,2)){const r=e.slice(2).toLowerCase(),o=kt.has(r);zt(t,r,n,o),o&&Pt([r])}else if((u=yt.has(e))||!o&&(bt[e]||(s=_t.has(e)))||(c=t.nodeName.includes("-")))"class"===e||"className"===e?function(t,e){null==e?t.removeAttribute("class"):t.className=e}(t,n):!c||s||u?t[bt[e]||e]=n:t[(a=e,a.toLowerCase().replace(/-([a-z])/g,((t,e)=>e.toUpperCase())))]=n;else{const r=o&&e.indexOf(":")>-1&&xt[e.split(":")[0]];r?function(t,e,n,r){null==r?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,r)}(t,r,e,n):Tt(t,wt[e]||e,n)}var a;return n}function qt(e){const n=`$$${e.type}`;let r=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==r&&Object.defineProperty(e,"target",{configurable:!0,value:r}),Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>r||document}),t.registry&&!t.done&&(t.done=!0,document.querySelectorAll("[id^=pl-]").forEach((t=>t.remove())));null!==r;){const t=r[n];if(t&&!r.disabled){const o=r[`${n}Data`];if(void 0!==o?t(o,e):t(e),e.cancelBubble)return}r=r.host&&r.host!==r&&r.host instanceof Node?r.host:r.parentNode}}function Et(t,e,n={},r,o){return e||(e={}),!o&&"children"in e&&k((()=>n.children=jt(t,e.children,n.children))),e.ref&&e.ref(t),k((()=>function(t,e,n,r,o={},i=!1){e||(e={});for(const c in o)if(!(c in e)){if("children"===c)continue;Lt(t,c,null,o[c],n,i)}for(const c in e){if("children"===c){r||jt(t,e.children);continue}const s=e[c];o[c]=Lt(t,c,s,o[c],n,i)}}(t,e,r,!0,n,!0))),n}function jt(e,n,r,o,i){for(t.context&&!r&&(r=[...e.childNodes]);"function"==typeof r;)r=r();if(n===r)return r;const c=typeof n,s=void 0!==o;if(e=s&&r[0]&&r[0].parentNode||e,"string"===c||"number"===c){if(t.context)return r;if("number"===c&&(n=n.toString()),s){let t=r[0];t&&3===t.nodeType?t.data=n:t=document.createTextNode(n),r=Ht(e,r,o,t)}else r=""!==r&&"string"==typeof r?e.firstChild.data=n:e.textContent=n}else if(null==n||"boolean"===c){if(t.context)return r;r=Ht(e,r,o)}else{if("function"===c)return k((()=>{let t=n();for(;"function"==typeof t;)t=t();r=jt(e,t,r,o)})),()=>r;if(Array.isArray(n)){const c=[];if(Rt(c,n,i))return k((()=>r=jt(e,c,r,o,!0))),()=>r;if(t.context)for(let t=0;t<c.length;t++)if(c[t].parentNode)return r=c;if(0===c.length){if(r=Ht(e,r,o),s)return r}else Array.isArray(r)?0===r.length?Vt(e,c,o):function(t,e,n){let r=n.length,o=e.length,i=r,c=0,s=0,u=e[o-1].nextSibling,a=null;for(;c<o||s<i;)if(e[c]!==n[s]){for(;e[o-1]===n[i-1];)o--,i--;if(o===c){const e=i<r?s?n[s-1].nextSibling:n[i-s]:u;for(;s<i;)t.insertBefore(n[s++],e)}else if(i===s)for(;c<o;)a&&a.has(e[c])||e[c].remove(),c++;else if(e[c]===n[i-1]&&n[s]===e[o-1]){const r=e[--o].nextSibling;t.insertBefore(n[s++],e[c++].nextSibling),t.insertBefore(n[--i],r),e[o]=n[i]}else{if(!a){a=new Map;let t=s;for(;t<i;)a.set(n[t],t++)}const r=a.get(e[c]);if(null!=r)if(s<r&&r<i){let u,l=c,p=1;for(;++l<o&&l<i&&null!=(u=a.get(e[l]))&&u===r+p;)p++;if(p>r-s){const o=e[c];for(;s<r;)t.insertBefore(n[s++],o)}else t.replaceChild(n[s++],e[c++])}else c++;else e[c++].remove()}}else c++,s++}(e,r,c):(r&&Ht(e),Vt(e,c));r=c}else if(n instanceof Node){if(t.context&&n.parentNode)return r=s?[n]:n;if(Array.isArray(r)){if(s)return r=Ht(e,r,o,n);Ht(e,r,null,n)}else null!=r&&""!==r&&e.firstChild?e.replaceChild(n,e.firstChild):e.appendChild(n);r=n}}return r}function Rt(t,e,n){let r=!1;for(let o=0,i=e.length;o<i;o++){let i,c=e[o];if(c instanceof Node)t.push(c);else if(null==c||!0===c||!1===c);else if(Array.isArray(c))r=Rt(t,c)||r;else if("string"==(i=typeof c))t.push(document.createTextNode(c));else if("function"===i)if(n){for(;"function"==typeof c;)c=c();r=Rt(t,Array.isArray(c)?c:[c])||r}else t.push(c),r=!0;else t.push(document.createTextNode(c.toString()))}return r}function Vt(t,e,n){for(let r=0,o=e.length;r<o;r++)t.insertBefore(e[r],n)}function Ht(t,e,n,r){if(void 0===n)return t.textContent="";const o=r||document.createTextNode("");if(e.length){let r=!1;for(let i=e.length-1;i>=0;i--){const c=e[i];if(o!==c){const e=c.parentNode===t;r||i?e&&c.remove():e?t.replaceChild(o,c):t.insertBefore(o,n)}else r=!0}}else t.insertBefore(o,n);return[o]}function Dt(e){const[n,r]=st(e,["component"]);return x((()=>{const e=n.component;switch(typeof e){case"function":return P((()=>e(r)));case"string":const n=$t.has(e),o=t.context?function(e){let n,r;return t.context&&(n=t.registry.get(r=function(){const e=t.context;return`${e.id}${e.count++}`}()))?(t.completed&&t.completed.add(n),t.registry.delete(r),n):(void 0).cloneNode(!0)}():function(t,e=!1){return e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t)}(e,n);return It(o,r,n),o}}))}const Nt=/^(?:[a-z0-9]+:)?\/\//i,Ft=/^\/+|\/+$|\s+/g;function Bt(t){const e=t.replace(Ft,"");return e?e.startsWith("?")?e:"/"+e:""}function Ut(t,e,n){if(Nt.test(e))return;const r=Bt(t),o=n&&Bt(n);let i="";return i=o&&"/"!==e.charAt(0)?0!==o.toLowerCase().indexOf(r.toLowerCase())?r+o:o:r,i+Bt(e)||"/"}function Kt(t,e){return Bt(t).replace(/\/*(\*.*)?$/g,"")+Bt(e)}function Zt(t,e){const[n,r]=t.split("/*",2),o=n.split("/").filter(Boolean),i=o.length;return t=>{const n=t.split("/").filter(Boolean),c=n.length-i;if(c<0||c>0&&void 0===r&&!e)return null;const s={path:i?"":"/",params:{}};for(let e=0;e<i;e++){const t=o[e],r=n[e];if(":"===t[0])s.params[t.slice(1)]=r;else if(0!==t.localeCompare(r,void 0,{sensitivity:"base"}))return null;s.path+=`/${r}`}return r&&(s.params[r]=c?n.slice(-c).join("/"):""),s}}function Gt(t){const[e,n]=t.pattern.split("/*",2),r=e.split("/").filter(Boolean);return r.reduce(((t,e)=>t+(e.startsWith(":")?2:3)),r.length-(void 0===n?0:1))}function Wt(t){const e=new Map,n=C();return new Proxy({},{get:(r,o)=>(e.has(o)||function(t,e){const n=p;p=t;try{F(e,!0)}finally{p=n}}(n,(()=>e.set(o,x((()=>t()[o]))))),e.get(o)()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),ownKeys:()=>Reflect.ownKeys(t())})}const Qt=L(),Yt=L(),Jt=()=>function(t,e){if(null==t)throw new Error("Make sure your app is wrapped in a <Router />");return t}(q(Qt));let Xt;const te=()=>Xt||q(Yt)||Jt().base,ee=()=>Jt().navigatorFactory(),ne=()=>Jt().location,re=t=>{const e=ne(),n=x((()=>Zt(t())));return x((()=>n()(e.pathname)))},oe=()=>te().params;function ie(t,e="",n){const{path:r,component:o,data:i,children:c}=t,s=!c||Array.isArray(c)&&!c.length,u=Kt(e,r),a=s?u:u.split("/*",1)[0];return{originalPath:r,pattern:a,element:o?()=>nt(o,{}):()=>{const{element:e}=t;return void 0===e&&n?nt(n,{}):e},preload:t.component?o.preload:t.preload,data:i,matcher:Zt(a,!s)}}function ce(t,e=0){return{routes:t,score:1e4*Gt(t[t.length-1])-e,matcher(e){const n=[];for(let r=t.length-1;r>=0;r--){const o=t[r],i=o.matcher(e);if(!i)return null;n.unshift({...i,route:o})}return n}}}function se(t,e="",n,r=[],o=[]){const i=Array.isArray(t)?t:[t];for(let c=0,s=i.length;c<s;c++){const t=i[c];if(t&&"object"==typeof t&&t.hasOwnProperty("path")){const i=ie(t,e,n);if(r.push(i),t.children)se(t.children,i.pattern,n,r,o);else{const t=ce([...r],o.length);o.push(t)}r.pop()}}return r.length?o:o.sort(((t,e)=>e.score-t.score))}function ue(t,e,n,r){const{base:o,location:i,navigatorFactory:c}=t,{pattern:s,element:u,preload:a,data:l}=r().route,p=x((()=>r().path)),d=Wt((()=>r().params));a&&a();const f={parent:e,pattern:s,get child(){return n()},path:p,params:d,data:e.data,outlet:u,resolvePath:t=>Ut(o.path(),t,p())};if(l)try{Xt=f,f.data=l({data:e.data,params:d,location:i,navigate:c(f)})}finally{Xt=void 0}return f}const ae=At("<a></a>"),le=t=>{const e=Jt(),n=te(),r=x((()=>se(t.children,Kt(n.pattern,t.base||""),pe))),o=x((()=>function(t,e){for(let n=0,r=t.length;n<r;n++){const r=t[n].matcher(e);if(r)return r}return[]}(r(),e.location.pathname)));e.out&&e.out.matches.push(o().map((({route:t,path:e,params:n})=>({originalPath:t.originalPath,pattern:t.pattern,path:e,params:n}))));const i=[];let c;const s=x(T(o,((t,r,u)=>{let a=r&&t.length===r.length;const l=[];for(let c=0,p=t.length;c<p;c++){const p=r&&r[c],d=t[c];u&&p&&d.route.pattern===p.route.pattern?l[c]=u[c]:(a=!1,i[c]&&i[c](),y((t=>{i[c]=t,l[c]=ue(e,l[c-1]||n,(()=>s()[c+1]),(()=>o()[c]))})))}return i.splice(t.length).forEach((t=>t())),u&&a?u:(c=l[0],l)})));return nt(pt,{get when(){return s()&&c},children:t=>nt(Yt.Provider,{value:t,get children(){return t.outlet()}})})},pe=()=>{const t=te();return nt(pt,{get when(){return t.child},children:t=>nt(Yt.Provider,{value:t,get children(){return t.outlet()}})})};function de(t){const[,e]=st(t,["children","to","href","state"]),n=(e=>{const n=Jt();return x((()=>{const e=t.to;return void 0!==e?n.renderPath(e):e}))})();return(()=>{const r=ae.cloneNode(!0);return It(r,e,!1,!0),Ct(r,(()=>t.children)),k((e=>{const o=n()||t.href,i=JSON.stringify(t.state);return o!==e.o&&Tt(r,"href",e.o=o),i!==e.i&&Tt(r,"state",e.i=i),e}),{o:void 0,i:void 0}),r})()}function fe(t){t=ct({inactiveClass:"inactive",activeClass:"active"},t);const[,e]=st(t,["activeClass","inactiveClass","end"]),n=ne(),r=(e=>{const n=te();return x((()=>n.resolvePath(t.href)))})(),o=x((()=>{const e=r();if(void 0===e)return!1;const o=e.split(/[?#]/,1)[0].toLowerCase(),i=n.pathname.toLowerCase();return t.end?o===i:i.startsWith(o)}));return nt(de,ct(e,{get to(){return r()},get classList(){return{[t.inactiveClass]:!o(),[t.activeClass]:o()}},get"aria-current"(){return o()?"page":void 0}}))}function ve(t){const e=ee(),n=ne(),{href:r,state:o}=t;return e("function"==typeof r?r({navigate:e,location:n}):r,{replace:!0,state:o}),null}const me=Symbol("store-raw"),he=Symbol("store-node"),ge=Symbol("store-name");function _e(t,e){let r=t[n];if(!r){Object.defineProperty(t,n,{value:r=new Proxy(t,Me)});const e=Object.keys(t),o=Object.getOwnPropertyDescriptors(t);for(let n=0,i=e.length;n<i;n++){const i=e[n];if(o[i].get){const e=o[i].get.bind(r);Object.defineProperty(t,i,{get:e})}}}return r}function ye(t){return null!=t&&"object"==typeof t&&(t[n]||!t.__proto__||t.__proto__===Object.prototype||Array.isArray(t))}function we(t,e=new Set){let n,r,o,i;if(n=null!=t&&t[me])return n;if(!ye(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let n=0,i=t.length;n<i;n++)o=t[n],(r=we(o,e))!==o&&(t[n]=r)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const n=Object.keys(t),c=Object.getOwnPropertyDescriptors(t);for(let s=0,u=n.length;s<u;s++)i=n[s],c[i].get||(o=t[i],(r=we(o,e))!==o&&(t[i]=r))}return t}function be(t){let e=t[he];return e||Object.defineProperty(t,he,{value:e={}}),e}function ke(t,e,n){return t[e]||(t[e]=xe(n,!0))}function $e(t){if(I()){const e=be(t);(e.u||(e.u=xe()))()}}function xe(t,e){const[n,r]=w(t,e?{internal:!0}:{equals:!1,internal:!0});return n.$=r,n}const Me={get(t,e,o){if(e===me)return t;if(e===n)return o;if(e===r)return $e(t);const i=be(t),c=i[e];let s=c?i[e]():t[e];if(e===he||"__proto__"===e)return s;if(!c){const n=Object.getOwnPropertyDescriptor(t,e);!I()||"function"==typeof s&&!t.hasOwnProperty(e)||n&&n.get||(s=ke(i,e,s)())}return ye(s)?_e(s):s},set:()=>!0,deleteProperty:()=>!0,ownKeys:function(t){return $e(t),Reflect.ownKeys(t)},getOwnPropertyDescriptor:function(t,e){const r=Reflect.getOwnPropertyDescriptor(t,e);return r&&!r.get&&r.configurable&&e!==n&&e!==he&&e!==ge?(delete r.value,delete r.writable,r.get=()=>t[n][e],r):r}};function Ae(t,e,n){if(t[e]===n)return;const r=t[e],o=t.length;void 0===n?delete t[e]:t[e]=n;let i,c=be(t);(i=ke(c,e,r))&&i.$((()=>n)),Array.isArray(t)&&t.length!==o&&(i=ke(c,"length",o))&&i.$(t.length),(i=c.u)&&i.$()}function Pe(t,e,n=[]){let r,o=t;if(e.length>1){r=e.shift();const i=typeof r,c=Array.isArray(t);if(Array.isArray(r)){for(let o=0;o<r.length;o++)Pe(t,[r[o]].concat(e),n);return}if(c&&"function"===i){for(let o=0;o<t.length;o++)r(t[o],o)&&Pe(t,[o].concat(e),n);return}if(c&&"object"===i){const{from:o=0,to:i=t.length-1,by:c=1}=r;for(let r=o;r<=i;r+=c)Pe(t,[r].concat(e),n);return}if(e.length>1)return void Pe(t[r],e,[r].concat(n));o=t[r],n=[r].concat(n)}let i=e[0];"function"==typeof i&&(i=i(o,n),i===o)||void 0===r&&null==i||(i=we(i),void 0===r||ye(o)&&ye(i)&&!Array.isArray(i)?function(t,e){const n=Object.keys(e);for(let r=0;r<n.length;r+=1){const o=n[r];Ae(t,o,e[o])}}(o,i):Ae(t,r,i))}function Te(t,e){const n=we(t||{}),r=Array.isArray(n);return[_e(n),function(...t){A((()=>{r&&1===t.length?function(t,e){if("function"==typeof e&&(e=e(t)),t===(e=we(e)))return;let n=0,r=e.length;for(;n<r;n++){const r=e[n];t[n]!==r&&Ae(t,n,r)}Ae(t,"length",r)}(n,t[0]):Pe(n,t)}))}]}const ze={get(t,e){if(e===me)return t;const n=t[e];return ye(n)?new Proxy(n,ze):n},set:(t,e,n)=>(Ae(t,e,we(n)),!0),deleteProperty:(t,e)=>(Ae(t,e,void 0),!0)};function Se(t){return e=>(ye(e)&&t(new Proxy(e,ze)),e)}const Ie=L();var Ce="na -q -t va",Oe="sa na F Q -a -Y oa l ra",Le="wa F Q -a x xa",qe="na F Q -a -Y oa d q qa";const Ee=t=>t.matches(":focus-within"),je=t=>{const e=window.matchMedia(t),[n,r]=w(e.matches),o=t=>{r(t.matches)};return e.addEventListener("change",o),S((()=>{e.removeEventListener("change",o)})),n},Re=(t,e)=>{let n;return function(...r){clearTimeout(n),n=window.setTimeout((()=>t.apply(this,r)),e)}},Ve=t=>`${t<10?"0":""}${t}`,He=t=>{if("number"!=typeof t||!Number.isFinite(t)||t<0)return"--:--";const e=Math.floor(t/60/60),n=Math.floor(t%3600/60),r=Math.floor(t%3600%60),o=[Ve(n),Ve(r)];return e&&o.unshift(e),o.join(":")},De=(t,e,n)=>{if(e<0||e>t.length||n<0||n>t.length)return t;const r=t[e];return t[e]=t[n],t[n]=r,t},Ne=(t,e=0)=>{const n=[...t];let r=t.length;if(r<1)return n;for(e>0&&De(n,0,e);1!==r;){r-=1;const t=Math.floor(Math.random()*r+1);De(n,r,t)}return n},Fe=(t,e)=>t.sort(((t,n)=>{const r=t[e],o=n[e];if(r&&o){if("number"==typeof r&&"number"==typeof o)return r-o;let t,e;if("string"==typeof r&&"string"==typeof o)t=r,e=o;else{if(!Array.isArray(r)||!Array.isArray(o))return 0;t=r.join(" "),e=o.join(" ")}const n=t.toLowerCase(),i=e.toLowerCase();if(n<i)return-1;if(n>i)return 1}return r?-1:o?1:0})),Be=t=>new Promise((e=>{setTimeout(e,t)})),Ue=(t,e)=>{const n=Object.entries(e);var r;(r=t,Array.isArray(r)?r:[r]).forEach((t=>n.forEach((([e,n])=>{t.style.setProperty(e,void 0===n?"":`${n}`)}))))},Ke=new WeakMap,Ze=(t,e,n)=>{const r=t.composedPath()[0];r.classList.add(n),Ke.get(r)||(Be(e).then((()=>{r.classList.remove(n),Ke.delete(r)})),Ke.set(r,!0))},Ge=(t,e=!1)=>e?[...t].reverse():t,We=(...t)=>{let e="";for(const n of t)n&&(e+=` ${n}`);return e},Qe=new Intl.PluralRules("en-US"),Ye=(t,e)=>{switch(Qe.select(t)){case"one":default:return e;case"other":return`${e}s`}},Je=()=>je("(prefers-reduced-motion: reduce)"),Xe=()=>je("(prefers-color-scheme: dark)"),tn=(t,e)=>{const n=new ResizeObserver((([t])=>{e(t)}));$((()=>{const e=t();n.observe(e),S((()=>n.unobserve(e)))}))},en=navigator.userAgentData?navigator.userAgentData.mobile:/Android|iPhone|iPad|iPod|Opera Mini/i.test(navigator.userAgent),nn=(t,e,n)=>t.animate({opacity:Ge([0,1],e)},n),rn={ENTER:"Enter",ESC:"Escape",SPACE:"Space",ARROW_LEFT:"ArrowLeft",ARROW_UP:"ArrowUp",ARROW_RIGHT:"ArrowRight",ARROW_DOWN:"ArrowDown",P:"KeyP",N:"KeyN",M:"KeyM",T:"KeyT"},on=At('<div role="list" tabindex="-1"></div>'),cn=t=>{let e;const n=E((()=>t.children));k((()=>{n().forEach(((t,e)=>t.setAttribute("tabindex",0===e?"0":"-1")))}));const r=t=>e.querySelector(`.ya > ${t}`),o=(t,e)=>{const n=r(e);return n&&(n.tabIndex=t),n},i=t=>{const{code:n}=t,o=n===rn.ARROW_DOWN;if(o||n===rn.ARROW_UP){let t;if(e.matches(":focus"))t=r(o?":first-child":":last-child");else{const e=r(":focus-within");t=o?null==e?void 0:e.nextElementSibling:null==e?void 0:e.previousElementSibling}t instanceof HTMLElement&&t.focus()}else{if(n!==rn.ENTER)return;if(!(t=>{const e=(t=>t.querySelector(":focus"))(t);return!!e&&(e.click(),!0)})(e))return}t.preventDefault()},c=()=>{o(-1,'[tabindex="0"]:not(:focus-within)'),o(0,":focus-within")},s=()=>{o(-1,'[tabindex="0"]:not(:focus-within)'),queueMicrotask((()=>{Ee(e)||o(0,":first-child")}))};return(()=>{const r=on.cloneNode(!0);var o;return r.$$focusout=s,r.$$focusin=c,r.$$keydown=i,e=o=r,"function"==typeof t.ref&&t.ref(o),It(r,t,!1,!0),Ct(r,n),k((()=>r.className=We("ya",t.class))),r})()};Pt(["keydown","focusin","focusout"]);var sn="-P i -w -S -V Aa";const un=At("<div></div>"),an=At("<focus-trap></focus-trap>"),ln=At('<div tabindex="-1"></div>'),pn=At('<div role="menuitem"></div>'),dn=L(),fn=()=>q(dn);Pt(["keydown","focusout","click"]);let vn=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce(((t,e)=>t+((e&=63)<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e>62?"-":"_")),"");const mn="showDirectoryPicker"in globalThis,hn=async(t,e)=>{let n=[];for await(const r of t.values())"file"===r.kind?e.some((t=>r.name.endsWith(`.${t}`)))&&n.push(r):"directory"===r.kind&&(n=[...n,...await hn(r,e)]);return n},gn=function(){const t=document.createElement("link").relList;return t&&t.supports&&t.supports("modulepreload")?"modulepreload":"preload"}(),_n={},yn=function(t,e){return e&&0!==e.length?Promise.all(e.map((t=>{if((t=`/${t}`)in _n)return;_n[t]=!0;const e=t.endsWith(".css"),n=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${n}`))return;const r=document.createElement("link");return r.rel=e?"stylesheet":gn,e||(r.as="script",r.crossOrigin=""),r.href=t,document.head.appendChild(r),e?new Promise(((e,n)=>{r.addEventListener("load",e),r.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${t}`))))})):void 0}))).then((()=>t())):t()},wn={TRACK:0,ALBUM:1,ARTIST:2,PLAYLIST:3},bn="favorites--Z5jdHi6B-myT",kn="<unknown>";function $n(t,e,n,r=20,o=0){let i=[];if(o>=r)return i;const c=t=>{const i=t.assignedNodes().filter((t=>1===t.nodeType));return i.length>0?$n(i[0].parentElement,e,n,r,o+1):[]},s=Array.from(t.children||[]);for(const u of s)e(u)||(n(u)&&i.push(u),null!=u.shadowRoot?i.push(...$n(u.shadowRoot,e,n,r,o+1)):"SLOT"===u.tagName?i.push(...c(u)):i.push(...$n(u,e,n,r,o+1)));return i}function xn(t){return t.hasAttribute("hidden")||t.hasAttribute("aria-hidden")&&"false"!==t.getAttribute("aria-hidden")||"none"===t.style.display||"0"===t.style.opacity||"hidden"===t.style.visibility||"collapse"===t.style.visibility}function Mn(t){return"-1"!==t.getAttribute("tabindex")&&!xn(t)&&!function(t){return t.hasAttribute("disabled")||t.hasAttribute("aria-disabled")&&"false"!==t.getAttribute("aria-disabled")}(t)&&(t.hasAttribute("tabindex")||(t instanceof HTMLAnchorElement||t instanceof HTMLAreaElement)&&t.hasAttribute("href")||t instanceof HTMLButtonElement||t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement||t instanceof HTMLSelectElement||t instanceof HTMLIFrameElement)}const An=new Map,Pn=document.createElement("template");Pn.innerHTML='\n\t<div id="start"></div>\n\t<div id="backup"></div>\n\t<slot></slot>\n\t<div id="end"></div>\n';class Tn extends HTMLElement{constructor(){super(),this.debounceId=Math.random().toString(),this.l=!1;const t=this.attachShadow({mode:"open"});t.appendChild(Pn.content.cloneNode(!0)),this.$backup=t.querySelector("#backup"),this.$start=t.querySelector("#start"),this.$end=t.querySelector("#end"),this.focusLastElement=this.focusLastElement.bind(this),this.focusFirstElement=this.focusFirstElement.bind(this),this.onFocusIn=this.onFocusIn.bind(this),this.onFocusOut=this.onFocusOut.bind(this)}static get observedAttributes(){return["inactive"]}get inactive(){return this.hasAttribute("inactive")}set inactive(t){t?this.setAttribute("inactive",""):this.removeAttribute("inactive")}get focused(){return this.l}connectedCallback(){this.$start.addEventListener("focus",this.focusLastElement),this.$end.addEventListener("focus",this.focusFirstElement),this.addEventListener("focusin",this.onFocusIn),this.addEventListener("focusout",this.onFocusOut),this.render()}disconnectedCallback(){this.$start.removeEventListener("focus",this.focusLastElement),this.$end.removeEventListener("focus",this.focusFirstElement),this.removeEventListener("focusin",this.onFocusIn),this.removeEventListener("focusout",this.onFocusOut)}attributeChangedCallback(){this.render()}focusFirstElement(){this.trapFocus()}focusLastElement(){this.trapFocus(!0)}getFocusableElements(){return $n(this,xn,Mn)}trapFocus(t){if(this.inactive)return;let e=this.getFocusableElements();e.length>0?(t?e[e.length-1].focus():e[0].focus(),this.$backup.setAttribute("tabindex","-1")):(this.$backup.setAttribute("tabindex","0"),this.$backup.focus())}onFocusIn(){this.updateFocused(!0)}onFocusOut(){this.updateFocused(!1)}updateFocused(t){!function(t,e,n){const r=An.get(n);null!=r&&window.clearTimeout(r),An.set(n,window.setTimeout((()=>{t(),An.delete(n)}),0))}((()=>{this.focused!==t&&(this.l=t,this.render())}),0,this.debounceId)}render(){this.$start.setAttribute("tabindex",!this.focused||this.inactive?"-1":"0"),this.$end.setAttribute("tabindex",!this.focused||this.inactive?"-1":"0"),this.focused?this.setAttribute("focused",""):this.removeAttribute("focused")}}window.customElements.define("focus-trap",Tn);const zn=At('<svg viewBox="0 0 66 66"><circle cx="33" cy="33" r="30"></circle></svg>'),Sn=t=>(()=>{const e=zn.cloneNode(!0),n=e.firstChild;return k((r=>{const o=We("Ca",t.class),i="Da";return o!==r.o&&Tt(e,"class",r.o=o),i!==r.i&&Tt(n,"class",r.i=i),r}),{o:void 0,i:void 0}),e})(),[In,Cn]=Te([]),On=(()=>{const t=t=>{let{id:e}=t;const n=void 0!==e?In.findIndex((t=>t.id===e)):-1;if(-1===n){e=e||vn();const n={...t,id:e};Cn((t=>[...t,n]))}else Cn(n,t);return e};return t.dismiss=t=>{Cn((e=>e.filter((e=>e.id!==t))))},t})(),Ln=At("<div><div></div><div></div></div>"),qn=At("<button></button>"),En={title:"Dismiss"},jn=t=>{const e=()=>On.dismiss(t.id);return $((()=>{const n=t.duration;P((()=>{!1!==n&&setTimeout(e,null!=n?n:8e3)}))})),(()=>{const n=Ln.cloneNode(!0),r=n.firstChild,o=r.nextSibling;return Ct(r,(()=>t.message)),Ct(o,nt(dt,{get children(){return[nt(ft,{get when(){return"spinner"===t.controls},get children(){return nt(Sn,{get class(){return"Ga"}})}}),nt(ft,{get when(){return!1!==t.controls},get children(){return nt(at,{get each(){return t.controls||[En]},children:t=>(()=>{const n=qn.cloneNode(!0);return n.$$click=()=>{var n;null==(n=t.action)||n.call(t),e()},Ct(n,(()=>t.title)),k((()=>n.className="na F Q -a -Y oa ta l ua Ia")),n})()})}})]}})),k((t=>{const e="-B -J -F k -S da z Ea",i="-h -l Fa",c="ka Ha";return e!==t.o&&(n.className=t.o=e),i!==t.i&&(r.className=t.i=i),c!==t.p&&(o.className=t.p=c),t}),{o:void 0,i:void 0,p:void 0}),n})()},Rn=()=>nt(at,{each:In,children:t=>nt(jn,t)});function Vn(t){return new Promise(((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)}))}function Hn(t,e){const n=(!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var e=function(){return indexedDB.databases().finally(t)};r=setInterval(e,100),e()})).finally((function(){return clearInterval(r)})):Promise.resolve()).then((()=>{const n=indexedDB.open(t);return n.onupgradeneeded=()=>n.result.createObjectStore(e),Vn(n)}));var r;return(t,r)=>n.then((n=>r(n.transaction(e,t).objectStore(e))))}let Dn;function Nn(){return Dn||(Dn=Hn("keyval-store","keyval")),Dn}Pt(["click"]);const Fn=t=>{const e=t.useStores.map((t=>t()[2])).filter(Boolean).flat(1),{storageName:n,version:o}=t,[i,c]=w(!1),s=`${n}-${o}`,u=Hn(s,s);return(async(t,e)=>{const n=window.indexedDB;if("databases"in n){const r=`${t}-${e}`;(await n.databases()).forEach((t=>{t.name!==r&&n.deleteDatabase(t.name)}))}else for(let r=0;r<e;r+=1)n.deleteDatabase(`${t}-${r}`)})(n,o),function(t,e=Nn()){return e("readonly",(e=>Promise.all(t.map((t=>Vn(e.get(t)))))))}(e.map((t=>t.key)),u).then((t=>{t.forEach(((t,n)=>{void 0!==t&&e[n].load(t)}))})).finally((()=>c(!0))),$(T(i,(n=>{var o;if(!n)return;let i=!1;e.forEach((t=>{$((()=>{t.selector()[r];const e=t.selector();i&&function(t,e,n=Nn()){n("readwrite",(n=>(n.put(e,t),Vn(n.transaction))))}(t.key,we(e),u)}))})),$((()=>{i=!0})),null==(o=t.onLoad)||o.call(t)}))),nt(pt,{get when(){return i()},get children(){return t.children}})};function Bn(t){const e=L();return[n=>{const r=t();return nt(e.Provider,{value:r,get children(){return n.children}})},()=>q(e)]}const[Un,Kn]=Bn((()=>{const[t,e]=Te({tracks:{},albums:{},artists:{},playlists:{},favorites:[]}),n=(t=>{const e=(t,e)=>[...new Set([...t,...e])];return{createNewPlaylist:(e,n=[])=>{const r={type:wn.PLAYLIST,id:vn(),name:e,dateCreated:(new Date).getTime(),trackIds:n};t("playlists",r.id,r)},renamePlaylist:(e,n)=>{t("playlists",e,"name",n)},addTracksToPlaylist:(n,r)=>{t("playlists",n,"trackIds",(t=>e(t,r)))},removeTracksFromPlaylist:(e,n)=>{t("playlists",e,"trackIds",(t=>t.filter((t=>!n.includes(t)))))},favoriteTrack:n=>{t("favorites",(t=>e(t,[n])))},unfavoriteTrack:e=>{t("favorites",(t=>t.filter((t=>t!==e))))}}})(e),r=n=>{A((()=>{for(const r of n){const n=t.tracks[r];if(n){const t=t=>t.filter((t=>t!==r)),o=["trackIds",t];e("tracks",r,void 0),e("albums",n.album||"<unknown>",...o);for(const r of n.artists||["<unknown>"])e("artists",r,...o);e("favorites",t)}}for(const r of Object.values(t.playlists)){const t=r.trackIds.filter((t=>!n.includes(t)));e("playlists",r.id,"trackIds",t)}}))},o=async(t,e)=>{if("fileRef"===t.type&&"fileRef"===e.type){const n=t.file,r=e.file;return n.name===r.name&&n.isSameEntry(r)}if("file"===t.type&&"file"===e.type){const n=t.file,r=e.file;return n.name===r.name&&n.size===r.size}return!1},i={...n,removeTracks:r,remove:(n,o)=>{const i={[wn.ALBUM]:"albums",[wn.ARTIST]:"artists",[wn.PLAYLIST]:"playlists"}[o];if(e(i,n,void 0),"playlists"!==i){const e=t[i][n].trackIds;r(e)}},importTracks:async()=>{const n=await(async t=>{if(mn)try{const e=await showDirectoryPicker();return(await hn(e,t)).map((t=>({type:"fileRef",file:t})))}catch{return null}const e=document.createElement("input");return e.type="file",en?(e.accept=t.map((t=>`.${t}`)).join(", "),e.multiple=!0):(e.setAttribute("webkitdirectory",""),e.setAttribute("directory","")),new Promise((n=>{e.addEventListener("change",(e=>{n(((t,e)=>{const{files:n}=t.target;return n?Array.from(n).filter((t=>e.some((e=>t.name.endsWith(`.${e}`))))).map((t=>({type:"file",file:t}))):[]})(e,t))})),Be(100).then((()=>{e.click()}))}))})(["aac","mp3","ogg","wav","flac","m4a"]);if(!n)return;if(n.length<1)return void On({message:"Selected directory does not contain any tracks."});const r={id:vn(),duration:!1};On({...r,message:"Preparing to import tracks to the library.",controls:!1});try{const i=await(async(t,e)=>{const n=(await yn((()=>import("./tracks-file-parser-worker.9dc4a2d2.js")),[])).default;return new Promise(((r,o)=>{const i=new n;i.addEventListener("error",o),i.addEventListener("message",(({data:t})=>{t.finished?r(t.tracks):e(t.parsedCount)})),i.postMessage(t)}))})(n,(t=>{On({...r,message:`Importing tracks to the library. ${t} of ${n.length}`,controls:"spinner"})}));A((()=>{(async n=>{const r=await(async e=>{const n=Object.values(t.tracks),r=[];for await(const t of e){let e=-1,i=0;for await(const r of n){if(await o(t.fileWrapper,r.fileWrapper)){e=i;break}i+=1}-1===e?r.push(t):n.splice(e,1)}return r})(n);e(Se((t=>{var e;for(const i of r){const e=vn();t.tracks[e]={...i,id:e,type:wn.TRACK}}const{albums:n}=t,{artists:o}=t;for(const r of Object.values(t.tracks)){const t=r.artists,i=r.id,c=null!=(e=r.album)?e:"<unknown>",s=n[c]||(n[c]={type:wn.ALBUM,id:c,name:c,artists:[],trackIds:[]});"<unknown>"!==c&&(s.image||(s.image=r.image),s.year||(s.year=r.year)),s.trackIds.includes(i)||s.trackIds.push(i);for(const e of t)s.artists.includes(e)||s.artists.push(e);const u=t.length>0?t:["<unknown>"];for(const e of u){const t=o[e]||(o[e]={type:wn.ARTIST,id:e,name:e,trackIds:[]});t.trackIds.includes(i)||t.trackIds.push(i)}}})))})(i),On({...r,message:`Successfully imported or uptated ${i.length} tracks to the library.`,duration:8e3,controls:void 0})}))}catch(i){console.error(i),On({...r,message:"An unknown error has occurred while importing tracks to the library.",controls:void 0})}},clearData:()=>{On({message:"Library cleared"}),e({tracks:{},albums:{},artists:{},playlists:{}})}};return[t,i,[{key:"data-tracks",selector:()=>t.tracks,load:t=>e({tracks:t})},{key:"data-albums",selector:()=>t.albums,load:t=>e({albums:t})},{key:"data-artists",selector:()=>t.artists,load:t=>e({artists:t})},{key:"data-playlists",selector:()=>t.playlists,load:t=>e({playlists:t})},{key:"data-favorites",selector:()=>t.favorites,load:t=>e({favorites:t})}]]})),[Zn,Gn]=Bn((()=>{const[t,e]=Te({sortKeys:{[wn.TRACK]:"name",[wn.ALBUM]:"name",[wn.ARTIST]:"name",[wn.PLAYLIST]:"name"}});return[t,{sort:n=>{e({sortKeys:{...t.sortKeys,[n.type]:n.key}})}},[{key:"library-sort",selector:()=>t.sortKeys,load:t=>e({sortKeys:t})}]]})),[Wn,Qn]=Bn((()=>{const[t]=Kn(),[e,n]=Te({isPlaying:!1,trackIds:[],originalTrackIds:[],activeTrackIndex:-1,repeat:0,shuffle:!1,currentTime:0,currentTimeChanged:!1,duration:0,isMuted:!1,volume:100,get activeTrackId(){return o()},get activeTrack(){return i()}}),r=()=>e.trackIds[e.activeTrackIndex],o=x(r),i=x((()=>t.tracks[r()])),c=()=>!!e.activeTrack,s=(t,e)=>{n({originalTrackIds:e,trackIds:Ne(e,t),activeTrackIndex:0})},u=(t,r)=>{A((()=>{n({currentTime:0,currentTimeChanged:!0,activeTrackIndex:t}),r&&(n({trackIds:[...r]}),e.shuffle&&s(t,r))})),n("isPlaying",!!e.activeTrack)},a=t=>{n(Se((e=>{let n=t;e.shuffle&&(n=Ne(t),e.originalTrackIds=e.originalTrackIds.concat(t)),e.trackIds=e.trackIds.concat(n)})))};return $((()=>{const{tracks:r}=t;P((()=>{const{activeTrackId:t}=e,o=t=>t.filter((t=>r[t]));n("trackIds",o),n("originalTrackIds",o),n("activeTrackIndex",e.trackIds.indexOf(t))}))})),[e,{play:()=>{n({isPlaying:c()})},pause:()=>{n({isPlaying:!1})},playPause:()=>{n({isPlaying:!e.isPlaying&&c()})},playTrack:u,playNextTrack:(t=!1)=>{const{trackIds:r,activeTrackIndex:o}=e,i=r.length;if(!i)return;if(-1===o)return void u(0);const c=i===o+1;c&&t?n({isPlaying:!1}):u(c?0:o+1)},playPreveousTrack:()=>{const{trackIds:t,activeTrackIndex:n}=e,r=t.length;if(!r)return;let{currentTime:o}=e,i=n;-1===i?i=0:o<4&&(i=0===n?r-1:n-1,o=0),u(i)},addTracksToQueue:a,removeFromQueue:t=>{let{trackIds:r,originalTrackIds:o,activeTrackIndex:i}=e;r=r.filter((e=>!t.includes(e))),e.shuffle&&(o=o.filter((e=>!t.includes(e)))),i=o.indexOf(e.activeTrackId);let c={};-1===i&&(c={isPlaying:!1,currentTime:0,duration:NaN}),n({...c,trackIds:r,originalTrackIds:o,activeTrackIndex:i})},clearQueue:()=>{n({trackIds:[],originalTrackIds:[],isPlaying:!1,currentTime:0,duration:NaN})},toggleShuffle:()=>{let{shuffle:t}=e;t=!t,A((()=>{if(t)s(e.activeTrackIndex,e.trackIds);else{const{originalTrackIds:t}=e;n({activeTrackIndex:t.indexOf(e.activeTrackId),trackIds:t,originalTrackIds:[]})}n("shuffle",t)}))},toggleMute:()=>{let{volume:t,isMuted:r}=e;r=!r,!r&&t<10&&(t=10),n({volume:t,isMuted:r})},toggleRepeat:()=>{n({repeat:{0:1,1:2,2:0}[e.repeat]})},setCurrentTime:t=>{n({currentTimeChanged:!1,currentTime:t})},changeCurrentTime:t=>{n({currentTime:t,currentTimeChanged:!0})},setDuration:t=>{n({duration:t})},setVolume:t=>{n({volume:t,isMuted:!1})},addToQueue:t=>{a(t),On({message:"Selected tracks added to the queue",duration:4e3})}},[{key:"player-volume",selector:()=>e.volume,load:t=>n({volume:t})},{key:"player-is-muted",selector:()=>e.isMuted,load:t=>n({isMuted:t})},{key:"player-shuffle",selector:()=>e.shuffle,load:t=>n({shuffle:t})},{key:"player-repeat",selector:()=>e.repeat,load:t=>n({repeat:t})}]]})),Yn=At("<div></div>"),Jn={viewArtists:ut((()=>yn((()=>import("./view-artists.a8f8c2f2.js")),["assets/view-artists.a8f8c2f2.js","assets/modal.fa951a99.js"]))),addToPlaylists:ut((()=>yn((()=>import("./add-to-playlist-modal.60bc518d.js")),["assets/add-to-playlist-modal.60bc518d.js","assets/modal.fa951a99.js"]))),createOrRenamePlaylist:ut((()=>yn((()=>import("./create-or-rename-playlist.152b8aba.js")),["assets/create-or-rename-playlist.152b8aba.js","assets/modal.fa951a99.js"])))},Xn=L(),tr=()=>q(Xn);Pt(["click"]);const er=At('<div style="user-select: text;"><div>Unknown error has occured please</div><a href="/">Reload</a><details><summary>Internal Error logs</summary><p></p></details></div>'),nr=t=>(()=>{const e=er.cloneNode(!0),n=e.firstChild.nextSibling.nextSibling,r=n.firstChild.nextSibling;return Ct(n,(()=>console.log(t)),r),Ct(r,(()=>{var e;return null==(e=t.stack)?void 0:e.toString()})),e})(),rr={backArrow:"M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z",play:"M8 5.14v14l11-7-11-7z",musicNote:"M12 3v9.26c-.5-.17-1-.26-1.5-.26C8 12 6 14 6 16.5S8 21 10.5 21s4.5-2 4.5-4.5V6h4V3h-7z",musicNoteOutline:"m12 3 .01 10.55c-.59-.34-1.27-.55-2-.55C7.79 13 6 14.79 6 17s1.79 4 4.01 4S14 19.21 14 17V7h4V3h-6zm-1.99 16c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z",album:"M12 11a1 1 0 00-1 1 1 1 0 001 1 1 1 0 001-1 1 1 0 00-1-1m0 5.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5M12 2A10 10 0 002 12a10 10 0 0010 10 10 10 0 0010-10A10 10 0 0012 2z",albumOutline:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-12.5c-2.49 0-4.5 2.01-4.5 4.5s2.01 4.5 4.5 4.5 4.5-2.01 4.5-4.5-2.01-4.5-4.5-4.5zm0 5.5c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z",playlist:"M15 6H3v2h12V6m0 4H3v2h12v-2M3 16h8v-2H3v2M17 6v8.18c-.31-.11-.65-.18-1-.18a3 3 0 00-3 3 3 3 0 003 3 3 3 0 003-3V8h3V6h-5z",chevronDown:"M7.41 8.58L12 13.17l4.59-4.59L18 10l-6 6-6-6 1.41-1.42z",chevronUp:"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z",search:"M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27C12.59 15.41 11.11 16 9.5 16A6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z",addPlaylist:"M2 16h8v-2H2m16 0v-4h-2v4h-4v2h4v4h2v-4h4v-2m-8-8H2v2h12m0 2H2v2h12v-2z",close:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z",edit:"M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z",delete:"M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19a2 2 0 002 2h8a2 2 0 002-2V7H6v12z",moreVertical:"M12 16a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2 2 2 0 012-2m0-6a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2 2 2 0 012-2m0-6a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2 2 2 0 012-2z",favorite:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.08C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53L12 21.35z",favoriteOutline:"M12.1,18.55L12,18.65L11.89,18.55C7.14,14.24 4,11.39 4,8.5C4,6.5 5.5,5 7.5,5C9.04,5 10.54,6 11.07,7.36H12.93C13.46,6 14.96,5 16.5,5C18.5,5 20,6.5 20,8.5C20,11.39 16.86,14.24 12.1,18.55M16.5,3C14.76,3 13.09,3.81 12,5.08C10.91,3.81 9.24,3 7.5,3C4.42,3 2,5.41 2,8.5C2,12.27 5.4,15.36 10.55,20.03L12,21.35L13.45,20.03C18.6,15.36 22,12.27 22,8.5C22,5.41 19.58,3 16.5,3Z",sort:"M3 13h12v-2H3m0-5v2h18V6M3 18h6v-2H3v2z",person:"M12 4a4 4 0 014 4 4 4 0 01-4 4 4 4 0 01-4-4 4 4 0 014-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4z",personOutline:"M12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 10c2.7 0 5.8 1.29 6 2H6c.23-.72 3.31-2 6-2m0-12a4 4 0 1 0 0 8 4 4 0 0 0 0-8zm0 10c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z",plus:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",playlistPlay:"M19,9H2V11H19V9M19,5H2V7H19V5M2,15H15V13H2V15M17,13V19L22,16L17,13Z",alertCircle:"M11 15h2v2h-2v-2m0-8h2v6h-2V7m1-5C6.47 2 2 6.5 2 12a10 10 0 0010 10 10 10 0 0010-10A10 10 0 0012 2m0 18a8 8 0 01-8-8 8 8 0 018-8 8 8 0 018 8 8 8 0 01-8 8z",checkmark:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"},or=At("<svg><path></path></svg>",0,!0),ir=At('<svg viewBox="-2 -2 28 28" aria-label="Artwork"></svg>'),cr=t=>{const e=q(Ie),n=Symbol("key"),r=()=>t.item,o=x((()=>{const t=r(),o=t&&t.type!==wn.PLAYLIST&&t.image;return S((()=>{o&&(null==e||e.release(o,n))})),o&&(null==e?void 0:e.get(o,n))||null}));return(()=>{const e=ir.cloneNode(!0);return Ct(e,nt(pt,{get when(){return null===o()},get children(){const t=or.cloneNode(!0);return k((()=>Tt(t,"d",(()=>{const t=r();return t?rr[(t=>{switch(null==t?void 0:t.type){case wn.ARTIST:return"person";case wn.PLAYLIST:return t.id===bn?"favorite":"playlist";default:return"album"}})(t)]:""})()))),t}})),k((n=>{var i;const c=(()=>{const t=o();return{"background-image":t&&`url(${t})`||""}})(),s=We("fa Na",t.class,(null==(i=r())?void 0:i.type)===wn.ARTIST&&"Oa");return n.o=St(e,c,n.o),s!==n.i&&Tt(e,"class",n.i=s),n}),{o:void 0,i:void 0}),e})()},sr=t=>{const[e]=Qn();return nt(cr,{get item(){return e.activeTrack},get class(){return We(t.class,"Pa")}})},ur=At('<svg viewBox="0 0 24 24"><path></path></svg>'),ar=t=>(()=>{const e=ur.cloneNode(!0),n=e.firstChild;return k((r=>{const o=We("Qa",t.class),i=rr[t.icon];return o!==r.o&&Tt(e,"class",r.o=o),i!==r.i&&Tt(n,"d",r.i=i),r}),{o:void 0,i:void 0}),e})(),lr=At("<button></button>"),pr=t=>(()=>{const e=lr.cloneNode(!0);return zt(e,"click",t.onClick,!0),Ct(e,(()=>{const e=Mt((()=>void 0!==t.icon),!0);return()=>e()?nt(ar,{get icon(){return t.icon}}):t.children})()),k((n=>{const r=t.disabled,o=t.title,i=We("na F Q -a -Y oa ta ha fa Ra",t.class),c=t.tabIndex;return r!==n.o&&(e.disabled=n.o=r),o!==n.i&&Tt(e,"title",n.i=o),i!==n.p&&(e.className=n.p=i),c!==n.v&&Tt(e,"tabindex",n.v=c),n}),{o:void 0,i:void 0,p:void 0,v:void 0}),e})();Pt(["click"]);const dr=At('<div><svg viewBox="0 0 24 24"><path d="M 6,18 14.5,12 6,6 M 8,9.86 11.03,12 8,14.14"></path><path d="M 6,18 14.5,12 6,6 M 8,9.86 11.03,12 8,14.14"></path><path d="M16,6L16,18L18,18L18,6L16,6Z"></path></svg></div>'),fr=t=>{const[e,n]=Qn();return nt(pr,{get disabled(){return!e.trackIds.length},get title(){return t.title},onClick:e=>{Ze(e,200,"cb"),t.action(n)},get children(){const e=dr.cloneNode(!0),n=e.firstChild,r=n.firstChild,o=r.nextSibling;return k((i=>{const c=We("bb",t.iconFlipped&&"_a"),s="ab",u="eb",a="db";return c!==i.o&&(e.className=i.o=c),s!==i.i&&Tt(n,"class",i.i=s),u!==i.p&&Tt(r,"class",i.p=u),a!==i.v&&Tt(o,"class",i.v=a),i}),{o:void 0,i:void 0,p:void 0,v:void 0}),e}})},vr=()=>nt(fr,{iconFlipped:!0,title:"Play previous track (SHIFT+P)",action:t=>t.playPreveousTrack()}),mr=()=>nt(fr,{title:"Play next track (SHIFT+N)",action:t=>t.playNextTrack()}),hr=At("<button><div><div></div><div></div></div></button>"),gr=()=>{const[t,e]=Qn();return(()=>{const n=hr.cloneNode(!0),r=n.firstChild,o=r.firstChild,i=o.nextSibling;return n.$$click=()=>e.playPause(),k((e=>{const c=t.isPlaying?"Pause (Space)":"Play (Space)",s=!t.activeTrack,u="na F Q -a -Y oa a m pa Va",a=We("Wa",t.isPlaying&&"Xa"),l="Ya",p=We("Ya","Za");return c!==e.o&&Tt(n,"title",e.o=c),s!==e.i&&(n.disabled=e.i=s),u!==e.p&&(n.className=e.p=u),a!==e.v&&(r.className=e.v=a),l!==e.m&&(o.className=e.m=l),p!==e.h&&(i.className=e.h=p),e}),{o:void 0,i:void 0,p:void 0,v:void 0,m:void 0,h:void 0}),n})()};Pt(["click"]);const _r=At("<div><div></div><div><div></div></div></div>"),yr=At("<div></div>"),wr=At('<svg viewBox="0 0 24 24"><path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"></path><path d="M 13,15 V 9.0000002 H 12 L 10,10 v 1 h 1.5 v 4 z"></path></svg>'),br={0:"Enable repeat",1:"Enable repeat once",2:"Disable repeat"},kr=()=>{const[t,e]=Qn(),n=t=>{Ze(t,350,"cb"),e.toggleShuffle()},r=t=>{Ze(t,325,"cb"),e.toggleRepeat()};return(()=>{const e=yr.cloneNode(!0);return Ct(e,nt(pr,{get title(){return t.shuffle?"Disable shuffle":"Enable shuffle"},onClick:n,get children(){return[(()=>{const e=_r.cloneNode(!0),n=e.firstChild,r=n.nextSibling,o=r.firstChild;return k((i=>{const c=We("ab ib",t.shuffle&&"Ta"),s="jb",u="kb",a="jb Za";return c!==i.o&&(e.className=i.o=c),s!==i.i&&(n.className=i.i=s),u!==i.p&&(r.className=i.p=u),a!==i.v&&(o.className=i.v=a),i}),{o:void 0,i:void 0,p:void 0,v:void 0}),e})(),(()=>{const t=yr.cloneNode(!0);return k((()=>t.className="Ua")),t})()]}}),null),Ct(e,nt(vr,{}),null),Ct(e,nt(gr,{}),null),Ct(e,nt(mr,{}),null),Ct(e,nt(pr,{get title(){return br[t.repeat]},onClick:r,get children(){return[(()=>{const e=wr.cloneNode(!0),n=e.firstChild,r=n.nextSibling;return k((o=>{const i=We("ab",0!==t.repeat&&"Ta"),c="fb",s=We("gb",2===t.repeat&&"hb");return i!==o.m&&Tt(e,"class",o.m=i),c!==o.h&&Tt(n,"class",o.h=c),s!==o.g&&Tt(r,"class",o.g=s),o}),{m:void 0,h:void 0,g:void 0}),e})(),(()=>{const t=yr.cloneNode(!0);return k((()=>t.className="Ua")),t})()]}}),null),k((()=>e.className="ka Sa")),e})()},$r=At('<svg viewBox="0 0 24 24"><mask id="a-volume-mask"><rect width="24" height="24" fill="white"></rect><g><rect fill="black" x="13" y="0" width="2" height="24"></rect></g></mask><g mask="url(#a-volume-mask)"><path d="m 3,9 v 6 h 4 l 5,5 V 4 L 7,9 Z m 13.5,3 c 0,-1.77 -1,-3.29 -2.5,-4.03 V 16 c 1.5,-0.71 2.5,-2.24 2.5,-4"></path><path d="M 14,3.2304688 V 5.2890625 C 16.89,6.1490625 19,8.83 19,12 c 0,3.17 -2.11,5.850938 -5,6.710938 v 2.058593 C 18.01,19.859531 21,16.28 21,12 21,7.72 18.01,4.1404688 14,3.2304688 Z"></path><g><rect x="11" y="0" width="2" height="24"></rect></g></g></svg>'),xr=t=>{const[e]=Qn();return nt(pr,{get title(){return t.title},get onClick(){return t.onClick},get children(){const t=$r.cloneNode(!0),n=t.firstChild,r=n.firstChild.nextSibling,o=r.firstChild,i=n.nextSibling.firstChild.nextSibling,c=i.nextSibling,s=c.firstChild;return k((n=>{const u=`ob ${(()=>{const{volume:t}=e;let n="tb";return 0===t||e.isMuted?n="rb":t>50&&(n=""),n})()}`,a="pb",l="qb",p="sb",d="pb",f="qb";return u!==n.o&&Tt(t,"class",n.o=u),a!==n.i&&Tt(r,"class",n.i=a),l!==n.p&&Tt(o,"class",n.p=l),p!==n.v&&Tt(i,"class",n.v=p),d!==n.m&&Tt(c,"class",n.m=d),f!==n.h&&Tt(s,"class",n.h=f),n}),{o:void 0,i:void 0,p:void 0,v:void 0,m:void 0,h:void 0}),t}})},Mr=At('<input type="range">'),Ar=t=>{const e=ct({min:0,max:100},t);let n;return $((()=>{const t=100*e.value/e.max,r=Number.isFinite(t)?t:0;n.style.setProperty("--bm59hn0",`${r}%`)})),(()=>{const r=Mr.cloneNode(!0);return"function"==typeof n?n(r):n=r,It(r,e,!1,!1),k((()=>r.className=We("nb",t.class))),r})()},Pr=At("<div></div>"),Tr=()=>{const[t,e]=Qn(),n=()=>{e.toggleMute()},r=t=>{const n=t.target,r=parseInt(n.value,10),o=Number.isInteger(r)?r:100;e.setVolume(o)};return(()=>{const e=Pr.cloneNode(!0);return Ct(e,nt(Ar,{"aria-label":"Volume slider",get value(){return t.volume},onInput:r,get class(){return"ub"}}),null),Ct(e,nt(xr,{get title(){return t.isMuted?"Unmute (m)":"Mute (m)"},onClick:n}),null),k((()=>e.className="-K -G -S da vb")),e})()},zr=At("<div><div></div><div></div></div>"),Sr=At("<div></div>"),Ir=t=>{const[e]=Qn(),n=()=>e.activeTrack;return(()=>{const e=Sr.cloneNode(!0);return Ct(e,nt(pt,{get when(){return n()},get children(){const e=zr.cloneNode(!0),r=e.firstChild,o=r.nextSibling;return Ct(r,(()=>{var t;return(null==(t=n())?void 0:t.name)||"Unknown"})),Ct(o,(()=>{var t;return null==(t=n())?void 0:t.artists.join(", ")})),k((n=>{const i="B M X xb",c=t.bigTitle?"C N Y":"I T -d",s="J U -e";return i!==n.o&&(e.className=n.o=i),c!==n.i&&(r.className=n.i=c),s!==n.p&&(o.className=n.p=s),n}),{o:void 0,i:void 0,p:void 0}),e}})),k((()=>e.className=We("-J -F -S da q wb",t.class))),e})()};var Cr="H S -c fa Ab";const Or=At("<div><div></div><div></div></div>"),Lr=()=>{const[t,e]=Qn(),[n,r]=w(!1),[o,i]=w(0),c=t=>{Number.isFinite(t)&&e.changeCurrentTime(t)},s=()=>t.duration,u=()=>t.currentTime,a=()=>r(!0),l=()=>{c(o()),r(!1)},p=t=>{const e=t.composedPath()[0],n=(parseInt(e.value,10)||0)/1e3*s();i(n)},d=t=>{const{code:e}=t,n=e===rn.ARROW_LEFT;if(n||e===rn.ARROW_RIGHT){const e=u()+(n?-10:10),r=Math.max(Math.min(e,s()),0);c(r),t.preventDefault()}},f=()=>n()?o():u();return(()=>{const e=Or.cloneNode(!0),n=e.firstChild,r=n.nextSibling;return Ct(n,(()=>He(f()))),Ct(e,nt(Ar,{get disabled(){return!t.activeTrack},"aria-label":"Audio timeline",max:1e3,onPointerDown:a,onPointerUp:l,onInput:p,onKeyDown:d,get value(){return(()=>{const t=f();return t?1e3*t/s():0})()}}),r),Ct(r,(()=>He(s()))),k((t=>{const o="-J -F -S da zb",i=Cr,c=Cr;return o!==t.o&&(e.className=t.o=o),i!==t.i&&(n.className=t.i=i),c!==t.p&&(r.className=t.p=c),t}),{o:void 0,i:void 0,p:void 0}),e})()},qr=()=>{const[t,e]=Kn(),[n]=Qn(),r=()=>n.activeTrack,o=x((()=>t.favorites.includes(n.activeTrackId)));return nt(pr,{get class(){return"yb"},get title(){return o()?"Remove from Favorites":"Add to Favorites"},get icon(){return o()?"favorite":"favoriteOutline"},onClick:()=>{var t;const n=null==(t=r())?void 0:t.id;n&&(o()?e.unfavoriteTrack(n):e.favoriteTrack(n))},get disabled(){return!r()}})},Er=At('<div><div><button title="Open player"><div></div></button></div></div>'),jr=t=>{const e=je("(max-width: 700px), (max-height: 440px)"),n=je("(min-width: 421px)"),r=je("(min-width: 300px)"),o=ee();return(()=>{const i=Er.cloneNode(!0),c=i.firstChild,s=c.firstChild,u=s.firstChild;return Ct(i,(()=>{const t=Mt((()=>!e()),!0);return()=>t()&&nt(Lr,{})})(),c),s.$$click=()=>o("/player"),Ct(u,nt(ar,{icon:"chevronUp",get class(){return"Fb"}}),null),Ct(u,nt(sr,{}),null),Ct(s,nt(Ir,{}),null),Ct(c,(()=>{const t=Mt((()=>!!n()),!0);return()=>t()&&nt(qr,{})})(),null),Ct(i,nt(pt,{get when(){return!e()},get fallback(){return[Mt((()=>{const t=Mt((()=>!!r()),!0);return()=>t()&&nt(gr,{})})()),Mt((()=>{const t=Mt((()=>!!n()),!0);return()=>t()&&nt(mr,{})})())]},get children(){return[nt(kr,{}),nt(Tr,{})]}}),null),k((e=>{const n=We("-D d -K -F q Bb",t.class),r="-J -F -S da Cb",o="Gb na F Q -a -Y oa ta -K -G da Db",a="-B Eb";return n!==e.o&&(i.className=e.o=n),r!==e.i&&(c.className=e.i=r),o!==e.p&&(s.className=e.p=o),a!==e.v&&(u.className=e.v=a),e}),{o:void 0,i:void 0,p:void 0,v:void 0}),i})()};function Rr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=t.constructor();for(var o in t){var i=t[o],c=[...n,o];"string"==typeof i||"number"==typeof i||null==i?r[o]=e(i,c):"object"!=typeof i||Array.isArray(i)?console.warn('Skipping invalid key "'.concat(c.join("."),'". Should be a string, number, null or object. Received: "').concat(Array.isArray(i)?"Array":typeof i,'"')):r[o]=Rr(i,e,c)}return r}function Vr(t,e,n){t.style.setProperty(function(t){var e=t.match(/^var\((.*)\)$/);return e?e[1]:t}(e),n)}function Hr(t,e,n){if("object"==typeof n){var r=e;Rr(n,((e,n)=>{Vr(t,function(t,e){var n=t;for(var r of e){if(!(r in n))throw new Error("Path ".concat(e.join(" -> ")," does not exist in object"));n=n[r]}return n}(r,n),String(e))}))}else{var o=e;for(var i in o)Vr(t,i,o[i])}}Pt(["click"]);const Dr=new URL("sw.js",document.baseURI).href,Nr=()=>{On({message:"Something went wrong. Player wasn't able to play selected track.",duration:!1})};var Fr={primary:"var(--_48pdpl0)",primaryRgb:"var(--_48pdpl1)",onPrimary:"var(--_48pdpl2)",primaryContainer:"var(--_48pdpl3)",onPrimaryContainer:"var(--_48pdpl4)",secondary:"var(--_48pdpl5)",onSecondary:"var(--_48pdpl6)",secondaryContainer:"var(--_48pdpl7)",onSecondaryContainer:"var(--_48pdpl8)",tertiary:"var(--_48pdpl9)",onTertiary:"var(--_48pdpla)",tertiaryContainer:"var(--_48pdplb)",onTertiaryContainer:"var(--_48pdplc)",error:"var(--_48pdpld)",onError:"var(--_48pdple)",errorContainer:"var(--_48pdplf)",onErrorContainer:"var(--_48pdplg)",outline:"var(--_48pdplh)",background:"var(--_48pdpli)",onBackground:"var(--_48pdplj)",surface:"var(--_48pdplk)",onSurface:"var(--_48pdpll)",surfaceVariant:"var(--_48pdplm)",onSurfaceVariant:"var(--_48pdpln)",inverseSurface:"var(--_48pdplo)",inverseOnSurface:"var(--_48pdplp)",inversePrimary:"var(--_48pdplq)"};const Br=(t,e)=>{const n=[];for(let r=0;r<e;r+=1)n.push(t+r);return n},Ur=t=>Number.isFinite(t)?t:0,Kr=L(),Zr=(t,e,n)=>{const[r,o]=n?[t,e]:[e,t];return{main:r,cross:o}},Gr={main:0,cross:0},Wr=At("<div></div>"),Qr=`virtual-container-${Math.random().toString(36).slice(2,1/0)}`;let Yr;function Jr(t){Yr||(Yr=document.createElement("style"),Yr.type="text/css",Yr.textContent=`\n      .${Qr} {\n        position: relative !important;\n        flex-shrink: 0 !important;\n      }\n      .${Qr} > * {\n        will-change: transform !important;\n        box-sizing: border-box !important;\n        contain: strict !important;\n        position: absolute !important;\n        top: 0 !important;\n        left: 0 !important;\n      }\n    `,document.head.appendChild(Yr));const[e,n]=Te({focusPosition:0,mainAxis:{totalItemCount:0,focusPosition:0,scrollValue:0},crossAxis:{totalItemCount:0}}),{containerEl:r,setContainerRefEl:o,isDirectionHorizontal:i,measurements:c}=(t=>{const e=q(Kr),[n,r]=w(void 0),o=()=>t.scrollTarget||(null==e?void 0:e.scrollTarget),i=x((()=>"horizontal"===(t.direction||"vertical"))),[c,s]=Te({isMeasured:!1,mainAxisScrollValue:0,target:{...Gr},container:{...Gr,offsetMain:0,offsetCross:0},itemSize:{...Gr}}),u=()=>{const t=o();if(t){const e=i()?t.scrollLeft:t.scrollTop;return Math.floor(e)}return 0},a=new ResizeObserver((t=>{A((()=>{t.forEach((t=>(t=>{const e=t.target,r=o(),u=n(),a=i(),l=(t=>{let e=0,n=0;if(t.borderBoxSize){const{borderBoxSize:r}=t,o=Array.isArray(r)?r[0]:r;e=o.inlineSize,n=o.blockSize}else{const r=t.target.getBoundingClientRect();e=r.width,n=r.height}return{width:e,height:n}})(t),p=Zr(l.width,l.height,a);if(e===r)s("target",p);else if(e===u&&(d=p,c.container.cross!==d.cross||!c.isMeasured)){const t=((t,e)=>{let n=e,r=0,o=0;for(;n&&t!==n;){const{offsetTop:e,offsetLeft:i,offsetParent:c}=n;if(!t.contains(c)){r+=e-t.offsetTop,o+=i-t.offsetLeft;break}r+=e,o+=i,n=c}return{offsetTop:r,offsetLeft:o}})(r,u),e=Zr(t.offsetLeft,t.offsetTop,a);s("container",{...p,offsetMain:e.main,offsetCross:e.cross})}var d})(t))),s({isMeasured:!0,mainAxisScrollValue:u()})}))}));b((()=>{if(!c.isMeasured)return;const e=i(),n=t.itemSize;let r;r="function"==typeof n?n(c.container.cross,e):n;const o=Zr(r.width||0,r.height||0,e);s("itemSize",o)}));const l=()=>{s("mainAxisScrollValue",u())};return $((()=>{const t=o(),e=n();t&&e&&(t.addEventListener("scroll",l),a.observe(t),a.observe(e),S((()=>{s("isMeasured",!1),t.removeEventListener("scroll",l),a.unobserve(t),a.unobserve(e)})))})),{containerEl:n,setContainerRefEl:r,isDirectionHorizontal:i,measurements:c}})(t),s=()=>t.items&&t.items.length||0;b((()=>{var e;if(!c.isMeasured)return;const r=Ur((null==(e=t.crossAxisCount)?void 0:e.call(t,c,s()))||0);n("crossAxis",{totalItemCount:Math.max(1,r)})})),b((()=>{if(!c.isMeasured)return;const t=s(),r=e.crossAxis.totalItemCount,o=Math.ceil(t/r);n("mainAxis",{totalItemCount:Ur(o)}),n("crossAxis",{totalItemCount:r,positions:Br(0,e.crossAxis.totalItemCount)})})),b((()=>{const t=Math.floor(e.focusPosition/e.crossAxis.totalItemCount);n("mainAxis","focusPosition",Ur(t))}));const u=((e,n,r)=>{const[o,i]=Te({overscan:0,positionCount:0,maxScrollPosition:0,currentPosition:0});b((()=>{if(!e.isMeasured)return;const r=n.totalItemCount,o=e.itemSize.main,c=e.target.main;P((()=>{var e;const n=null!=(e=t.overscan)?e:Math.max(Math.ceil(180/o),2),s=Ur(n);i("overscan",s);const u=Math.ceil(c/o),a=(l=Math.min(u+2*s,r),Number.isInteger(l)?l:0);var l;i("positionCount",a),i("maxScrollPosition",r-a)}))})),b((()=>{if(!e.isMeasured)return;const t=e.mainAxisScrollValue-e.container.offsetMain,n=Math.floor(t/e.itemSize.main)-o.overscan,r=Math.min(Math.max(0,n),o.maxScrollPosition);i("currentPosition",r)}));let c=0;return x(((t=[])=>{if(!e.isMeasured)return t;const r=o.currentPosition,i=(t=>{const{total:e,focusPosition:n,positionCount:r,startPosition:o,prevPositions:i,prevStartPosition:c}=t,s=i.length;if(e<=r)return s===r&&c===o?i:Br(0,r);const u=o+r,a=t=>t<o||t>=u,l=()=>{if(a(n))return n;let t;return t=u<e?u:o-1,t};if(s!==r+1){const t=Br(o,r);return t.push(l()),t}const p=[];for(let f=0;f<r;f+=1){const t=o+f;i.includes(t)||p.push(t)}const d=l();return i.includes(d)||p.push(d),i.map((t=>a(t)&&t!==d?p.pop():t))})({total:n.totalItemCount,focusPosition:n.focusPosition,positionCount:o.positionCount,startPosition:r,prevStartPosition:c,prevPositions:t});return c=r,i}))})(c,e.mainAxis),a=x((()=>Br(0,e.crossAxis.totalItemCount))),l=x((()=>t.items||[])),p=(t,n)=>t*e.crossAxis.totalItemCount+n,d=n=>nt(lt,{get each(){return u()},children:r=>{const o=x((()=>{const t=r(),e=n.crossPos;return void 0===e?t:p(t,e)}));return nt(pt,{get when(){return o()<l().length},get children(){return nt(Dt,{get component(){return t.children},get items(){return l()},get item(){return l()[o()]},get index(){return o()},get tabIndex(){return o()===e.focusPosition?0:-1},get style(){return((t,e=0)=>{const n=c.itemSize,r=n.main*t,o=n.cross*e;let s=o,u=r,a=n.cross,l=n.main;return i()&&(s=r,u=o,a=n.main,l=n.cross),{transform:`translate(${s}px, ${u}px)`,width:a?`${a}px`:"",height:l?`${l}px`:""}})(r(),n.crossPos)}})}})}}),f=E((()=>nt(pt,{get when(){return e.crossAxis.totalItemCount>1},get fallback(){return nt(d,{})},get children(){return nt(lt,{get each(){return a()},children:t=>nt(d,{get crossPos(){return t()}})})}}))),v=t=>{const{code:o}=t,c="ArrowDown"===o,l="ArrowRight"===o,d="ArrowUp"===o||c,v="ArrowLeft"===o||l;if(d||v)((t,r)=>{const o=e.focusPosition;let i=o%e.crossAxis.totalItemCount,c=Math.floor(o/e.crossAxis.totalItemCount);r?c+=t:i+=t;const l=p(c,i);if(l<0||l>=s())return;const d=a().indexOf(i);if(-1===d)return;n("focusPosition",l);const v=f(),m=u(),h=m.indexOf(c);if(-1===h)return;const g=v[d*m.length+h];g&&queueMicrotask((()=>{g.focus(),g.scrollIntoView({block:"nearest"})}))})(c||l?1:-1,i()?v:d);else{if("Enter"!==o)return;if(!(t=>{const e=(t=>t.querySelector(":focus"))(t);return!!e&&(e.click(),!0)})(r()))return}t.preventDefault()},m=()=>{const t=(()=>{const t=a(),n=u(),r=f().findIndex((t=>null==t?void 0:t.matches(":focus-within, :focus")));if(-1===r)return-1;if(e.crossAxis.totalItemCount>1){const e=Math.floor(r/n.length),o=r%n.length,i=t[e],c=n[o];return p(c,i)}return n[r]})();n("focusPosition",-1===t?0:t)},h=async()=>{queueMicrotask((()=>{r().matches(":focus-within")||n("focusPosition",0)}))};return(()=>{const n=Wr.cloneNode(!0);return n.$$focusout=h,n.$$focusin=m,n.$$keydown=v,o(n),Ct(n,f),k((r=>{const o=`${Qr} ${t.className||""}`,s=(()=>{const t=e.mainAxis.totalItemCount*c.itemSize.main;return{[i()?"width":"height"]:`${t}px`,[i()?"height":"width"]:"100%"}})(),u=t.role||"list";return o!==r.o&&(n.className=r.o=o),r.i=St(n,s,r.i),u!==r.p&&Tt(n,"role",r.p=u),r}),{o:void 0,i:void 0,p:void 0}),n})()}Pt(["keydown","focusin","focusout"]);const Xr=At('<div role="listitem"><div><div></div><div></div></div></div>'),to=At("<div></div>"),eo=t=>{const e=fn(),n=(n,r)=>{var o;if(t.disableMenu)return;r.stopPropagation(),r.preventDefault();const i=n?{anchor:!0,preferredAlign:{horizontal:"right"}}:{anchor:!1,position:{top:r.y,left:r.x}},c=null==(o=t.getMenuItems)?void 0:o.call(t).filter(Boolean);c&&e.show(c,r.target,i)};return(()=>{const e=Xr.cloneNode(!0),r=e.firstChild,o=r.firstChild,i=o.nextSibling;return e.$$contextmenu=n,e.$$contextmenuData=!1,zt(e,"click",t.onClick,!0),Ct(e,(()=>{const e=Mt((()=>!!t.icon),!0);return()=>e()&&(()=>{const e=to.cloneNode(!0);return Ct(e,(()=>t.icon)),k((()=>e.className="Sb")),e})()})(),r),Ct(o,(()=>t.text)),Ct(i,(()=>t.secondaryText)),Ct(e,(()=>{const e=Mt((()=>!!t.trailing),!0);return()=>e()&&(()=>{const e=to.cloneNode(!0);return Ct(e,(()=>t.trailing)),k((()=>e.className="Vb")),e})()})(),null),Ct(e,nt(pt,{get when(){return!t.disableMenu},get children(){return nt(pr,{title:"More actions",icon:"moreVertical",get tabIndex(){return t.tabIndex},onClick:[n,!0],get class(){return"Wb"}})}}),null),k((n=>{const c=t.tabIndex,s=We("na -q -t va -C -J -F J U -e y Rb",t.isSelected&&"Qb",t.class),u=t.style,a="Tb",l="la I T -d x Ub",p="la";return c!==n.o&&Tt(e,"tabindex",n.o=c),s!==n.i&&(e.className=n.i=s),n.p=St(e,u,n.p),a!==n.v&&(r.className=n.v=a),l!==n.m&&(o.className=n.m=l),p!==n.h&&(i.className=n.h=p),n}),{o:void 0,i:void 0,p:void 0,v:void 0,m:void 0,h:void 0}),e})()};Pt(["click","contextmenu"]);var no="I T -d _b";const ro=At("<div></div>"),oo=t=>{const e=ee(),n=tr(),[r,o]=Kn(),[,i]=Qn(),[c]=Qn(),s=()=>r.tracks[t.item],u=x((()=>{const{isPlayingItem:e}=t;return e?e(s(),t.index):c.activeTrack===s()}));return nt(eo,{get isSelected(){return u()},onClick:()=>{const{index:e}=t;t.onItemClick?t.onItemClick(s(),e):i.playTrack(e,t.items)},get style(){return t.style},get tabIndex(){return t.tabIndex},get class(){return t.class},get icon(){return nt(pt,{get when(){return!t.showIndex},get fallback(){return(()=>{const e=ro.cloneNode(!0);return Ct(e,(()=>t.index+1)),k((()=>e.className=no)),e})()},get children(){return nt(cr,{get item(){return s()},get class(){return We(no,"ac")}})}})},get text(){return s().name},get secondaryText(){return(t=s().artists).length?t.join(", "):"<unknown>";var t},get trailing(){return[(()=>{const t=ro.cloneNode(!0);return Ct(t,(()=>s().album||"<unknown>")),k((()=>t.className="la bc")),t})(),(()=>{const t=ro.cloneNode(!0);return Ct(t,(()=>He(s().duration))),k((()=>t.className="la cc")),t})()]},getMenuItems:()=>{var c;const u=s(),{artists:a,id:l}=u,p=r.favorites.includes(l);return[{name:"Add to queue",action:()=>{i.addToQueue([l])}},a.length&&{name:`View ${Ye(a.length,"artist")}`,action:()=>{a.length>1?n.viewArtists.show({artistsIds:u.artists}):e(`/artist/${a[0]}`)}},u.album&&{name:"View album",action:()=>{e(`/album/${u.album||""}`)}},{name:p?"Remove from Favorites":"Add to Favorites",action:()=>{p?o.unfavoriteTrack(l):o.favoriteTrack(l)}},{name:"Add to playlist",action:()=>{n.addToPlaylists.show({trackIds:[l]})}},...(null==(c=t.additionalMenuItems)?void 0:c.call(t,s(),o))||[],{name:"Remove from the library",action:()=>{o.removeTracks([l])}}]}})},io=t=>{const[e,n]=w(!1),[r,o]=w(!1);let i;return tn((()=>i),(t=>{n(t.contentRect.width>800),o(t.contentRect.width<440)})),(()=>{const n=ro.cloneNode(!0);return"function"==typeof i?i(n):i=n,Ct(n,nt(Jr,{itemSize:{height:68},get items(){return t.items},children:n=>nt(oo,ct(n,{get class(){return We(!e()&&"Yb",r()&&"Zb")},get isPlayingItem(){return t.isPlayingItem},get onItemClick(){return t.onItemClick},get showIndex(){return t.showIndex},get additionalMenuItems(){return t.additionalMenuItems}}))})),k((()=>n.className="Xb")),n})()},co=t=>nt(pt,{get when(){return t.items.length},get fallback(){return t.fallback},get children(){return nt(io,t)}}),so=t=>{const[e,n]=Kn(),r=tr(),o=()=>t.item===bn,i=x((()=>{var n;return o()?{icon:"favorite",name:"Favorites"}:{icon:"playlist",name:null==(n=e.playlists[t.item])?void 0:n.name}}));return nt(eo,{get onClick(){return t.onClick},getMenuItems:()=>[{name:"Rename",action:()=>r.createOrRenamePlaylist.show({type:"rename",playlistId:t.item})},{name:"Remove",action:()=>n.remove(t.item,wn.PLAYLIST)}],get disableMenu(){return t.disableMenu||o()},get style(){return t.style},get tabIndex(){return t.tabIndex},get icon(){return nt(ar,{get icon(){return i().icon}})},get text(){return i().name}})},uo=t=>{const e=x((()=>{const{items:e}=t;return t.hideFavorites?e:[bn,...e]}));return nt(Jr,{itemSize:{height:56},get items(){return e()},children:e=>nt(so,ct(e,{get disableMenu(){return t.disableMenu},get isSelected(){return t.selectedId===e.item},onClick:()=>{var n;return null==(n=t.onItemClick)?void 0:n.call(t,e.item,e.index)}}))})},ao=At('<div role="listitem"><div><div><div></div><div></div></div></div></div>'),lo=t=>{const e=ee(),n=t=>t.type===wn.ALBUM,r=()=>{const e=t.itemData;if(n(e)){const{artists:t}=e;return t.length?t.join(" ,"):"<unknown>"}return""},o=()=>{const r=t.itemData,o=`/${n(r)?"album":"artist"}/${encodeURIComponent(r.id)}`;e(o)};return(()=>{const e=ao.cloneNode(!0),n=e.firstChild,i=n.firstChild,c=i.firstChild,s=c.nextSibling;return e.$$click=o,Ct(n,nt(cr,{get item(){return t.itemData},get class(){return"gc"}}),i),Ct(c,(()=>t.itemData.name)),Ct(s,r),k((r=>{const o=t.style,s="ec",u=t.tabIndex,a="na y fc",l="J U -e -S -V -Y hc ic",p="I T -d x";return r.o=St(e,o,r.o),s!==r.i&&(e.className=r.i=s),u!==r.p&&Tt(e,"tabindex",r.p=u),a!==r.v&&(n.className=r.v=a),l!==r.m&&(i.className=r.m=l),p!==r.h&&(c.className=r.h=p),r}),{o:void 0,i:void 0,p:void 0,v:void 0,m:void 0,h:void 0}),e})()};Pt(["click"]);const po=t=>{const e=t>440?200:160,n=Math.floor(t/e),r=Math.floor(t/n);return{width:r,height:r-8+88}},fo=t=>{const[e]=Kn(),n=x((()=>"album"===t.type?e.albums:e.artists));return nt(Jr,{itemSize:po,get items(){return t.items},crossAxisCount:t=>Math.floor(t.container.cross/t.itemSize.cross),children:t=>nt(lo,ct(t,{get itemData(){return n()[t.item]}}))})},vo={path:"tracks",title:"Tracks",type:wn.TRACK,component:co},mo={path:"artists",title:"Artists",type:wn.ARTIST,component:t=>nt(fo,ct(t,{type:"artist"}))},ho={path:"albums",title:"Albums",type:wn.ALBUM,component:t=>nt(fo,ct(t,{type:"album"}))},go={path:"playlists",title:"Playlists",type:wn.PLAYLIST,component:uo},_o=At("<button>New playlist</button>"),yo={name:"A to Z",key:"name"},wo={name:"Year",key:"year"},bo=[{...vo,icon:"musicNoteOutline",iconSelected:"musicNote",sortOptions:[yo,{name:"Album",key:"album"},{name:"Artists",key:"artists"},wo,{name:"Duration",key:"duration"}]},{...ho,icon:"albumOutline",iconSelected:"album",sortOptions:[yo,{name:"Artists",key:"artists"},wo]},{...mo,icon:"personOutline",iconSelected:"person",sortOptions:[yo]},{...go,icon:"playlist",iconSelected:"playlist",actions:()=>{const t=tr();return(()=>{const e=_o.cloneNode(!0),n=e.firstChild;return e.$$click=()=>{t.createOrRenamePlaylist.show({type:"create"})},Ct(e,nt(ar,{icon:"plus"}),n),k((()=>e.className="sa na F Q -a -Y oa l ra")),e})()},sortOptions:[yo,{name:"Date created",key:"dateCreated"}],component:t=>{const e=ee();return nt(go.component,ct(t,{onItemClick:t=>e(`/playlist/${t}`)}))}}],ko=`/library/${bo[0].path}`;Pt(["click"]);const $o=At("<header><div></div></header>"),xo=At("<h1></h1>"),Mo=At("<div></div>"),Ao=()=>{const t=ne(),e=ee(),n=()=>t.pathname;return nt(pr,{icon:"backArrow",title:"Back button",onClick:()=>{const t=n();window.history.back(),Be(50).then((()=>{t===n()&&e("/")}))}})},Po=t=>{const[e]=So()||[{}];return(()=>{const n=$o.cloneNode(!0),r=n.firstChild;return Ct(r,nt(dt,{get children(){return[nt(ft,{get when(){return void 0===t.mainButton},get children(){return nt(Ao,{})}}),nt(ft,{get when(){return t.mainButton},get children(){return t.mainButton}})]}}),null),Ct(r,(()=>{const e=Mt((()=>!!t.title),!0);return()=>e()&&(()=>{const e=xo.cloneNode(!0);return Ct(e,(()=>t.title)),k((()=>e.className="C N Y")),e})()})(),null),Ct(r,(()=>{const e=Mt((()=>!t.hideSpacer),!0);return()=>e()&&(()=>{const t=Mo.cloneNode(!0);return k((()=>t.className="vc")),t})()})(),null),Ct(r,(()=>t.children),null),Ct(n,(()=>t.belowContent),null),k((o=>{const i=We("-S -V fa tc",(void 0===t.scrollAware||t.scrollAware)&&e.isScolled&&"-N",t.class),c="ka -q -u uc";return i!==o.o&&(n.className=o.o=i),c!==o.i&&(r.className=o.i=c),o}),{o:void 0,i:void 0}),n})()},To=At("<div><div></div><div></div><div></div><div></div></div>"),zo=L(),So=()=>q(zo),Io=t=>{const[e,n]=Te({isScolled:!1});return $((()=>{const e=t.title&&`${t.title} • Snae Player`;e&&(document.title=e)})),nt(zo.Provider,{value:[e,n],get children(){const e=To.cloneNode(!0),n=e.firstChild,r=n.nextSibling,o=r.nextSibling,i=o.nextSibling;return Ct(n,(()=>{return e=t.topBar,n=t.title,!1===e?null:"string"==typeof e||void 0!==n&&void 0===e?nt(Po,{title:e||n}):e;var e,n})),Ct(r,(()=>t.navRail)),Ct(o,nt(pt,{get when(){return t.scrollable},get fallback(){return t.children},get children(){return nt(Lo,{observeScrollState:!0,get children(){return t.children}})}})),Ct(i,(()=>t.bottomBar)),k((c=>{const s=We("i ha wc",t.class),u="xc",a="yc",l="Ac",p="zc";return s!==c.o&&(e.className=c.o=s),u!==c.i&&(n.className=c.i=u),a!==c.p&&(r.className=c.p=a),l!==c.v&&(o.className=c.v=l),p!==c.m&&(i.className=c.m=p),c}),{o:void 0,i:void 0,p:void 0,v:void 0,m:void 0}),e}})},Co=At("<div></div>"),Oo=L((()=>!1)),Lo=t=>{const e=q(Oo);let n,r,o=!0;const i=So();if(i){const[,e]=i;$((()=>{if(!t.observeScrollState)return;const n=new IntersectionObserver((([t])=>{o?o=!1:e("isScolled",0===t.intersectionRatio)}),{threshold:0});n.observe(r),S((()=>n.unobserve(r)))}))}return(()=>{const o=Co.cloneNode(!0);return"function"==typeof n?n(o):n=o,Ct(o,nt(Kr.Provider,{value:{scrollTarget:n},get children(){return[(()=>{const t=Co.cloneNode(!0);return"function"==typeof r?r(t):r=t,k((()=>t.className="Cc")),t})(),(()=>{const e=Co.cloneNode(!0);return Ct(e,(()=>t.children)),k((()=>e.className="-p -t -i -m -K -G -S -V Fc")),e})()]}})),k((()=>o.className=We("ma -S -V -G da Bc",e()&&"Dc",t.class))),o})()},qo=At("<div></div>"),Eo=t=>{const[e]=Kn(),[n]=Gn(),r=()=>{switch(t.type){case wn.TRACK:return e.tracks;case wn.ALBUM:return e.albums;case wn.ARTIST:return e.artists;case wn.PLAYLIST:return e.playlists;default:throw new Error("Wrong item type")}},o=x((()=>Fe([...Object.values(r())],n.sortKeys[t.type]).map((t=>t.id))));return nt(Lo,{get class(){return"pc"},observeScrollState:!0,get children(){return[Mt((()=>Mt((()=>!!t.actions),!0)()&&(()=>{const e=qo.cloneNode(!0);return Ct(e,(()=>t.actions)),k((()=>e.className="ka sc")),e})())),nt(Dt,{get component(){return t.component},get items(){return o()}})]}})},jo=t=>{let{move:e,enter:n,exit:r,initial:o,onEntering:i,onEntered:c,onExiting:s,onExited:u}={};k((()=>o=t.initial)),k((()=>e=t.move)),k((()=>n=t.enter)),k((()=>r=t.exit)),k((()=>i=t.onEntering)),k((()=>c=t.onEntered)),k((()=>s=t.onExiting)),k((()=>u=t.onExited));const a=E((()=>t.children)),[l,p]=w([]);let d=!1;const f=new Set,v=t=>{d||(d=!0,requestAnimationFrame((()=>{f.size&&h(f),f.clear(),d=!1})));for(const e of t)f.add(e)},m=t=>c&&c(t),h=t=>{u&&u([...t]),y((n=>{const r=P(l).filter((e=>!t.has(e)));e&&r.length&&e(r),p(r),setTimeout(n)}))};let g=!0;const[_,$]=w([]);return k((()=>{const t=(e=a(),(Array.isArray(e)?e:[e]).filter((t=>t instanceof Element)));var e;$(t)})),b((t=>{const u=_(),a=new Set(u);if(g)u.length&&(g=!1,i&&i(u),"function"==typeof o?o(u,m):!0===o&&n?n(u,m):!1!==o&&(null==n?void 0:n.initial)?n.initial(u,m):c&&c(u));else{const o=P(l),c=o,p=u.filter((e=>!t.has(e))),d=t;for(const t of d)a.has(t)&&d.delete(t);for(let t=0;t<o.length;t++)!a.has(o[t])&&u.splice(t,0,o[t]);if(c.length&&e&&e(c),p.length){i&&i(p);for(const t of p){if(!f.size)break;f.delete(t)}n?n(p,m):m(p)}if(d.size){const t=[...d];s&&s(t),r?r(t,v):h(d)}}return p(u),a}),new Set(l())),l},Ro={duration:300,easing:"ease",fill:"backwards"},Vo=(t,e,n)=>({transform:[`translate(${e}px,${n}px)`,"none"],composite:"add"});function Ho(t,...e){for(const n of t)n.classList.add(...e)}function Do(t,e){const n=t=>{var e;return null!=(e=null==t?void 0:t.split(" "))?e:[]},r=n(t.from),o=n(t.active),i=n(t.to),c=t.name&&(t.name+e?"-enter":"-exit");return c&&(r.unshift(`${c}-from`),o.unshift(`${c}-active`),i.unshift(`${c}-to`)),{fromClasses:r,activeClasses:o,toClasses:i}}function No(t,e){const{fromClasses:n,activeClasses:r,toClasses:o}=t,{type:i="both"}=e;return(t,e)=>{for(const n of t)n.dispatchEvent(new CustomEvent("flipcancel"));Ho(t,...n,...r),requestAnimationFrame((()=>requestAnimationFrame((()=>{!function(t,...e){for(const n of t)n.classList.remove(...e)}(t,...n),Ho(t,...o);const c=t=>{const n=({target:o,type:i})=>{o===t&&(t.removeEventListener("flipcancel",n),"animationend"!==i&&t.removeEventListener("transitionend",n),"transitionend"!==i&&t.removeEventListener("animationend",n),t.classList.remove(...r),"flipcancel"!==i&&e&&e([t]))};t.addEventListener("flipcancel",n),"animationend"!==i&&t.addEventListener("transitionend",n),"transitionend"!==i&&t.addEventListener("animationend",n)};for(const e of t)c(e)}))))}}const Fo=t=>{const e=Je();return nt(pt,{get when(){return!e()},get fallback(){return t.children},get children(){return nt(jo,{get initial(){return t.initial},get enter(){return function(t,e={}){const{unabsolute:n,...r}=e,o=Do(t,!0),i=No(o,r);return Object.assign(((t,e)=>{n&&function(t){for(const e of t){const t=e.getAnimations();for(const e of t)"detach"===e.id&&e.cancel()}}(t),i(t,e)}),{initial:(t,e)=>{Ho(t,...o.toClasses),e&&e(t)}})}({active:t.enter})},get exit(){return function(t,e={}){const{absolute:n,...r}=e,o=No(Do(t,!1),r);return(t,e)=>{n&&function(t){let e,n;const r=[];for(const o of t){const t=o.parentElement;if(t){const{x:i,y:c,width:s,height:u}=o.getBoundingClientRect();if(void 0===e||void 0===n){const r=t.getBoundingClientRect();e=r.x,n=r.y}r.push((()=>{o.animate([{},{position:"absolute",margin:"0px",left:i-e+"px",top:c-n+"px",width:`${s}px`,height:`${u}px`}],{fill:"forwards"}).id="detach"}))}}for(const o of r)o()}(t),o(t,e)}}({active:t.exit})},get move(){return Mt((()=>!!t.move),!0)()&&function(t={}){const e=function(t,e){if("function"==typeof t)return t;const{defaultKeyframes:n,configOptions:r}=e,{keyframes:o=n,options:i}=t,c={...Ro,...r,...i};return(t,...e)=>{const n=t.animate("function"==typeof o?o(t,...e):o,c);return c.id&&(n.id=c.id),n.finished}}(t,{defaultKeyframes:Vo});return t=>{const n=function(t){const e=[];for(const r of t)if(r.isConnected){const{x:t,y:n}=r.getBoundingClientRect();e.push([r,t,n])}const n=[];return z((()=>z((()=>{for(const[t,r,o]of e)if(t.isConnected){const{x:e,y:i}=t.getBoundingClientRect(),c=r-e,s=o-i;(c||s)&&n.push([t,c,s])}})))),n}(t);z((()=>z((()=>{for(const t of n)e(...t)}))))}}({keyframes:(t,e,n)=>({transform:[`translate(${e}px,${n}px)`,"none"]}),options:{duration:100,easing:"ease",fill:"backwards"}})||void 0},get children(){return t.children}})}})};var Bo="sa na F Q -a -Y oa l ra";const Uo=At("<button></button>"),Ko=At("<div></div>"),Zo=At("<h1></h1>"),Go=t=>t.href?nt(fe,{get class(){return Bo},get href(){return t.href},get children(){return t.title}}):(()=>{const e=Uo.cloneNode(!0);return zt(e,"click",t.onClick,!0),Ct(e,(()=>t.title)),k((()=>e.className=Bo)),e})(),Wo=t=>(()=>{const e=Ko.cloneNode(!0);return Ct(e,(()=>{const e=Mt((()=>!!t.title),!0);return()=>e()&&(()=>{const e=Zo.cloneNode(!0);return Ct(e,(()=>t.title)),k((()=>e.className="B M X x")),e})()})(),null),Ct(e,(()=>{const e=Mt((()=>!!t.message),!0);return()=>e()&&(()=>{const e=Ko.cloneNode(!0);return Ct(e,(()=>t.message)),e})()})(),null),Ct(e,(()=>{const e=Mt((()=>!!t.button),!0);return()=>e()&&nt(Go,ct((()=>t.button)))})(),null),k((()=>e.className=We("D O Z -S -V y -G -Y da Gc",t.class))),e})();Pt(["click"]);const Qo=At("<button>Install</button>"),Yo=At("<div></div>"),[Jo,Xo]=w();window.addEventListener("beforeinstallprompt",(t=>{t.preventDefault(),Xo(t)}));const ti=t=>{const e=ee(),n=fn(),[r,o]=Gn(),i=t=>{n.show([{name:"Settings",action:()=>e("/settings")},{name:"About",action:()=>e("/about")}],t.target,{anchor:!0,preferredAlign:{horizontal:"right"}})},c=re((()=>"/library/:page")),s=x((()=>{var t;return{tracks:wn.TRACK,albums:wn.ALBUM,artists:wn.ARTIST,playlists:wn.PLAYLIST}[null==(t=c())?void 0:t.params.page]})),u=t=>{const e=s(),i=bo.find((t=>t.type===e));if(!i||void 0===e)return;const c=i.sortOptions.map((t=>({name:t.name,action:()=>{o.sort({type:e,key:t.key})},selected:r.sortKeys[e]===t.key})));n.show(c,t.target,{anchor:!0,preferredAlign:{horizontal:"right"},width:124})},a=()=>{const t=Jo();t&&t.prompt().then((()=>t.userChoice)).then((t=>{"accepted"===t.outcome&&Xo(void 0)}))};return nt(Po,{mainButton:!1,title:"Library",get belowContent(){return t.tabs},get children(){return[nt(pt,{get when(){return Jo()},get children(){const t=Qo.cloneNode(!0);return t.$$click=a,k((()=>t.className="na F Q -a -Y oa d q qa")),t}}),nt(pr,{icon:"search",title:"Search",onClick:()=>e("/search")}),nt(pr,{icon:"sort",title:"Sort",onClick:u}),nt(pr,{icon:"moreVertical",title:"More actions",onClick:i})]}})},ei=t=>nt(fe,{get activeClass(){return"nc"},get class(){return"na ja mc -I -E -Y da"},get href(){return t.path},replace:!0,get children(){return nt(ar,{get icon(){return t.icon}})}}),ni=t=>(()=>{const e=Yo.cloneNode(!0);return Ct(e,nt(at,{each:bo,children:ei})),k((()=>e.className=We((t=>{switch(t){case"rail":return"ja kc";case"bottom":return"lc";case"tabs":return"jc";default:throw new Error("Unknown type")}})(t.type),"bottom"===t.type&&"-N"))),e})();Pt(["click"]);const ri={path:"/library",component:()=>{const[t]=Kn(),e=je("(max-width: 500px)"),n=((t,e)=>{const n=Object.entries(t).map((([t,e])=>[re((()=>t)),e])),r=ne(),o=x((()=>{r.pathname;const t=P((()=>n.find((([t])=>t()))));return t?t[1]:()=>{}}));return x((()=>o()()))})({"/library/tracks":()=>wn.TRACK,"/library/albums":()=>wn.ALBUM,"/library/artists":()=>wn.ARTIST,"/library/playlists":()=>wn.PLAYLIST}),r=x((()=>bo.find((t=>t.type===n()))));return nt(Io,{get title(){var t;return`Library ${null==(t=r())?void 0:t.title}`},get topBar(){return nt(ti,{get tabs(){return Mt((()=>!(!e()||en)),!0)()&&nt(ni,{type:"tabs"})}})},get navRail(){return Mt((()=>!e()),!0)()&&nt(ni,{type:"rail"})},get bottomBar(){return Mt((()=>!(!e()||!en)),!0)()&&nt(ni,{type:"bottom"})},get children(){return nt(pt,{get when(){return Object.keys(t.tracks).length},get fallback(){return nt(Wo,{title:"Your Library is empty",button:{title:"Import some music",href:"/settings"}})},get children(){const t=Yo.cloneNode(!0);return Ct(t,nt(Fo,{get enter(){return"qc"},get exit(){return"rc"},get children(){return nt(pe,{})}})),k((()=>t.className="oc")),t}})}})},children:bo.map((t=>({path:t.path,component:()=>nt(Eo,t)})))},oi={path:"/player",component:ut((()=>yn((()=>import("./player.0d5a3d5c.js")),[]))),children:[{path:"/"},{path:"/queue"}]},ii={...go,itemSelector:(t,e)=>{if(t===bn)return{id:t,type:wn.PLAYLIST,name:"Favorites",trackIds:e.favorites}},additionalMenuItems:t=>[{name:"Rename playlist",action:()=>{tr().createOrRenamePlaylist.show({playlistId:t.id,type:"rename"})}}]},ci=[{...mo,sortTrackByKey:"name"},{...ho,label:t=>t.artists.join(", "),info:t=>[t.year].filter(Boolean),showTrackIndex:!0,sortTrackByKey:"trackNo"},{...ii,additionalTrackMenuItems:(t,e,n)=>[{name:"Remove from playlist",action:()=>n.removeTracksFromPlaylist(t.id,[e.id])}]}].map((t=>({...t,path:t.path.slice(0,-1),name:t.path.slice(0,-1)}))),si=ut((()=>yn((()=>import("./details.ebe01d37.js")),[]))),ui=[ri,oi,...ci.map((t=>({path:`${t.path}/:itemId`,component:()=>nt(si,t)}))),{path:"/search",component:ut((()=>yn((()=>import("./search.9812357c.js")),[]))),children:[{path:"/"},{path:"/:searchTerm"}]},{path:"/settings",component:ut((()=>yn((()=>import("./settings.9e03f0fe.js")),[])))},{path:"/about",component:ut((()=>yn((()=>import("./about.d6d6ff1c.js")),[])))},{path:"/",children:[{path:"/"},{path:"/library"}],element:()=>nt(ve,{href:ko})},{path:"/*all",component:ut((()=>yn((()=>import("./not-found.32d0c171.js")),[])))}],ai=t=>nt(Fo,{get enter(){return t.forwards?"Hc":"Ic"},get exit(){return t.forwards?"Kc":"Jc"},get children(){return t.children}}),li=At("<div><div></div><div></div><div></div></div>"),pi=t=>{const e=t.map((t=>re((()=>t))));return x((()=>e.map((t=>t())).some(Boolean)))};!1!==window.isSupportedBrowser&&function(t,e){const n=[],r={use:(t,e={})=>(n.push({provider:t,opts:e}),r),mount(e){const r=function({app:t,props:e={},providers:n}){return n.reduceRight(((t,{provider:e,opts:n={}})=>()=>nt(e,{...n,get children(){return t()}})),(()=>nt(t,e)))}({app:t,props:void 0,providers:n});return function(t,e,n){let r;return y((n=>{r=n,e===document?t():Ct(e,t(),e.firstChild?null:void 0,void 0)})),()=>{r(),e.textContent=""}}(r,"string"==typeof e?document.querySelector(e):e)}};return r}((()=>{(()=>{(()=>{const t=new Audio,[e,n]=Qn(),r=()=>e.activeTrack,[o,{refetch:i,mutate:c}]=M(r,(async t=>{const e=null==t?void 0:t.fileWrapper;if(!e)return;if("file"===e.type)return e.file;const n=e.file;let r=await n.queryPermission({mode:"read"});if("granted"!==r){try{"prompt"===r&&(r=await n.requestPermission({mode:"read"}))}catch{}if("granted"!==r)return null}return n.getFile()}));b((()=>{void 0===r()&&(c(void 0),n.pause())})),$((()=>{const{isPlaying:r}=e,s=o();if(o.loading){const e=t.src;e&&(t.src="",t.removeAttribute("src"),URL.revokeObjectURL(e))}else if(r){if(null===s)return c(void 0),n.pause(),void On({message:"To play selected track please grant requested permission first.",duration:!1});if(void 0!==s)try{t.src||(t.src=URL.createObjectURL(s)),t.play()}catch(u){console.error(u),n.pause(),Nr()}else i()}else t.pause()})),t.onerror=t=>{console.error(t),A((()=>{n.pause(),Nr()}))},$((()=>{e.currentTimeChanged&&(t.currentTime=P((()=>e.currentTime)))})),t.ondurationchange=()=>{n.setDuration(t.duration)},t.ontimeupdate=()=>{n.setCurrentTime(t.currentTime)},t.onended=()=>{const{repeat:t}=e;2!==t&&n.playNextTrack(0===t)},$((()=>{t.volume=e.volume/100,t.muted=e.isMuted,t.loop=2===e.repeat})),document.addEventListener("keydown",(t=>{if((t=>t.composedPath().some((t=>{return(e=t)instanceof HTMLInputElement&&"text"===e.type;var e})))(t))return;const{shiftKey:e}=t;switch(t.code){case rn.SPACE:n.playPause();break;case rn.M:n.toggleMute();break;case rn.N:if(e){n.playNextTrack();break}return;case rn.P:if(e){n.playPreveousTrack();break}return;default:return}t.preventDefault()}));const s=window.navigator.mediaSession;if(s){const e=q(Ie),o=Symbol("key");$((()=>{var t;const n=r();if(!n)return void(s.metadata=null);const{image:i}=n,c=i&&(null==e?void 0:e.get(i,o))||"";s.metadata=new MediaMetadata({title:n.name,artist:null==(t=n.artists)?void 0:t.join(", "),album:n.album,artwork:[{src:c,sizes:"512x512",type:"image/png"}]}),S((()=>{i&&(null==e||e.release(i,o))}))}));const i=s.setActionHandler.bind(s);i("play",n.play),i("pause",n.pause),i("previoustrack",n.playPreveousTrack),i("nexttrack",(()=>n.playNextTrack())),i("seekbackward",(()=>{t.currentTime=Math.max(t.currentTime-10,0)})),i("seekforward",(()=>{t.currentTime=Math.max(t.currentTime-10,0)}))}})();const[t]=Qn(),e=Xe(),n=document.querySelector('meta[name="theme-color"]');$((()=>{var r;const o=e(),i=null==(r=t.activeTrack)?void 0:r.primaryColor,c=document.documentElement;if(void 0!==i)yn((()=>import("./app-theme.c2072629.js")),[]).then((t=>{const e=t.getAppTheme(i,o);Hr(c,Fr,e),n.content=e.surface}));else{const t=Object.fromEntries(Object.entries(Fr).map((([t])=>[t,""])));Hr(c,Fr,t)}})),(async t=>{await(async()=>"loading"===document.readyState?new Promise((t=>{window.addEventListener("load",t,{once:!0})})):Promise.resolve())();const{serviceWorker:e}=navigator,n=await e.register(Dr,{scope:"/"}),r=e=>{t.onNeedRefresh((()=>{const{waiting:t}=e;t&&t.postMessage("skip-waiting")}))};n.waiting&&r(n);let o=!1;n.addEventListener("updatefound",(()=>{const{installing:t}=n;t&&t.addEventListener("statechange",(()=>{n.waiting&&(navigator.serviceWorker.controller?r(n):o=!0)}))}));let i=!1;navigator.serviceWorker.addEventListener("controllerchange",(()=>{o?o=!1:i||(window.location.reload(),i=!0)}))})({onNeedRefresh(t){On({message:"An app update is available",duration:!1,controls:[{title:"Reload",action:()=>{t()}}]})}}),(t=>{const e=new Set,n=t=>{t.rippleCanExit?t.animate({opacity:0},{duration:200,easing:"linear"}).finished.then((()=>{e.delete(t),t.remove()})):t.rippleCanExit=!0},r=()=>{e.size&&e.forEach(n)};document.addEventListener("pointercancel",r,!0),document.addEventListener("pointerup",r,!0),document.addEventListener("pointerdown",(t=>{if(0!==t.button)return;const r=t.composedPath().find((t=>{var e;return null==(e=t.classList)?void 0:e.contains("na")}));if(!r||r.hasAttribute("disabled"))return;const o=r.getBoundingClientRect(),i=document.createElement("span");i.className="Hb",i.rippleCanExit=!1;const c=t.clientX-o.left,s=t.clientY-o.top;Ue(i,{top:s-2+"px",left:c-2+"px"}),e.add(i),r.appendChild(i);const u=Math.max(c,o.width-c),a=Math.max(s,o.height-s),l=2*Math.max(u,a),p=Math.sqrt(l**2*2)/4;var d;i.animate({transform:["scale(0)",`scale(${p})`]},{duration:500,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"both"}),(d=i,d.animate(null,300)).finished.then((()=>n(i)))}),!0)})()})();const t=(e=ui,()=>nt(le,{base:void 0,children:e}));var e;const n=Jt().isRouting,r=pi(["/player","/player/queue"]),o=pi(bo.map((t=>`/library/${t.path}`))),[i,c]=w(!1);$((()=>{const t=o();requestAnimationFrame((()=>{c(t)}))}));const s=je("(max-width: 700px)");return(()=>{const e=li.cloneNode(!0),c=e.firstChild,u=c.nextSibling,a=u.nextSibling;return Ct(u,nt(Oo.Provider,{value:()=>!r(),get children(){return nt(ai,{get forwards(){return i()},get children(){return nt(gt,{get children(){return nt(t,{})}})}})}})),Ct(a,nt(Fo,{get enter(){return"Ob"},get exit(){return"Pb"},move:!0,get children(){return[nt(Rn,{}),Mt((()=>Mt((()=>!r()),!0)()&&nt(jr,{})))]}})),k((t=>{const r="Ib",i=We("Mb",n()&&"Nb"),l="Jb",p=We("-J -F -S -V -x da ha Kb",o()&&en&&s()&&"Lb");return r!==t.o&&(e.className=t.o=r),i!==t.i&&(c.className=t.i=i),l!==t.p&&(u.className=t.p=l),p!==t.v&&(a.className=t.v=p),t}),{o:void 0,i:void 0,p:void 0,v:void 0}),e})()})).use((t=>{const{source:e,url:n,base:r,data:o,out:i}=t,c=function(t,e="",n,r){const{signal:[o,i],utils:c={}}=function(t){return t?Array.isArray(t)?{signal:t}:t:{signal:w({value:""})}}(t),s=c.parsePath||(t=>t),u=c.renderPath||(t=>t),l=Ut("",e);if(void 0===l)throw new Error(`${l} is not a valid base path`);l&&!o().value&&i({value:l,replace:!0,scroll:!1});const[p,d]=[a,O],[f,v]=w(o().value),[m,h]=w(o().state),g=function(t,e){const n=new URL("http://sar"),r=x((e=>{const r=t();try{return new URL(r,n)}catch(o){return console.error(`Invalid path ${r}`),e}}),n,{equals:(t,e)=>t.href===e.href}),o=x((()=>r().pathname)),i=x((()=>r().search.slice(1))),c=x((()=>r().hash.slice(1))),s=x((()=>""));return{get pathname(){return o()},get search(){return i()},get hash(){return c()},get state(){return e()},get key(){return s()},query:Wt(T(i,(()=>function(t){const e={};return t.searchParams.forEach(((t,n)=>{e[n]=t})),e}(r()))))}}(f,m),_=[],y={pattern:l,params:{},path:()=>l,outlet:()=>null,resolvePath:t=>Ut(l,t)};if(n)try{Xt=y,y.data=n({data:void 0,params:{},location:g,navigate:$(y)})}finally{Xt=void 0}function b(t,e,n){P((()=>{if("number"==typeof e)return void(e&&(c.go?c.go(e):console.warn("Router integration does not support relative routing")));const{replace:r,resolve:o,scroll:s,state:u}={replace:!1,resolve:!0,scroll:!0,...n},a=o?t.resolvePath(e):Ut("",e);if(void 0===a)throw new Error(`Path '${e}' is not a routable path`);if(_.length>=100)throw new Error("Too many redirects");const l=f();if(a!==l||u!==m()){const t=_.push({value:l,replace:r,scroll:s,state:m});d((()=>{v(a),h(u),vt&&[...vt].forEach((t=>t()))})).then((()=>{_.length===t&&function(t){const e=_[0];e&&(t.value===e.value&&t.state===e.state||i({...t,replace:e.replace,scroll:e.scroll}),_.length=0)}({value:a,state:u})}))}}))}function $(t){return t=t||q(Yt)||y,(e,n)=>b(t,e,n)}k((()=>{const{value:t,state:e}=o();t!==P(f)&&d((()=>{v(t),h(e)}))}));{let t=function(t){if(t.defaultPrevented||0!==t.button||t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return;const e=t.composedPath().find((t=>t instanceof Node&&"A"===t.nodeName.toUpperCase()));if(!e)return;const n=e instanceof SVGAElement,r=n?e.href.baseVal:e.href;if((n?e.target.baseVal:e.target)||!r&&!e.hasAttribute("state"))return;const o=(e.getAttribute("rel")||"").split(/\s+/);if(e.hasAttribute("download")||o&&o.includes("external"))return;const i=n?new URL(r,document.baseURI):new URL(r);if(i.origin!==window.location.origin||l&&i.pathname&&!i.pathname.toLowerCase().startsWith(l.toLowerCase()))return;const c=s(i.pathname+i.search+i.hash),u=e.getAttribute("state");t.preventDefault(),b(y,c,{resolve:!1,replace:e.hasAttribute("replace"),scroll:!e.hasAttribute("noscroll"),state:u&&JSON.parse(u)})};document.addEventListener("click",t),S((()=>document.removeEventListener("click",t)))}return{base:y,out:void 0,location:g,isRouting:p,renderPath:u,parsePath:s,navigatorFactory:$}}(e||function(t,e,n,r){let o=!1;const i=t=>"string"==typeof t?{value:t}:t,c=function([t,e],n,r){return[n?()=>n(t()):t,r?t=>e(r(t)):e]}(w(i(t()),{equals:(t,e)=>t.value===e.value}),void 0,(t=>(!o&&(({value:t,replace:e,scroll:n,state:r})=>{e?window.history.replaceState(r,"",t):window.history.pushState(r,"",t),function(t,e){const n=document.getElementById(t);n?n.scrollIntoView():e&&window.scrollTo(0,0)}(window.location.hash.slice(1),n)})(t),t)));return n&&S(n(((e=t())=>{o=!0,c[1](i(e)),o=!1}))),{signal:c,utils:r}}((()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state})),0,(t=>{return e=window,n="popstate",r=()=>t(),e.addEventListener(n,r),()=>e.removeEventListener(n,r);var e,n,r}),{go:t=>window.history.go(t)}),r,o);return nt(Qt.Provider,{value:c,get children(){return t.children}})})).use((t=>nt(mt,{fallback:nr,get children(){return t.children}}))).use((t=>{const e=new WeakMap,n=new Set;let r=null;return nt(Ie.Provider,{value:{get:(t,n)=>{const r=e.get(t);if(r)return r.users.add(n),r.url;const o=URL.createObjectURL(t);return e.set(t,{url:o,users:new Set([n])}),o},release:(t,o)=>{const i=e.get(t);i&&(i.users.delete(o),n.add(t),null===r&&(r=window.setTimeout((()=>{r=null,(()=>{for(const t of n.keys()){const n=e.get(t);n&&0===n.users.size&&e.delete(t)}n.clear()})()}),4e3)))}},get children(){return t.children}})})).use((t=>nt(Un,{get children(){return nt(Zn,{get children(){return nt(Wn,{get children(){return nt(Fn,{storageName:"APP_DATA",version:1,useStores:[Kn,Gn,Qn],get children(){return t.children}})}})}})}}))).use((t=>{const[e,n]=Te({modals:[]}),r=Object.keys(Jn).map((t=>[t,{show:r=>{const o=vn(),i={id:o,key:t,modalProps:r,close:()=>{n("modals",(t=>t.filter((t=>t.id!==o))))}};n("modals",[...e.modals,i])}}])),o=Object.fromEntries(r);return nt(Xn.Provider,{value:o,get children(){return[(()=>{const t=Yn.cloneNode(!0);return Ct(t,nt(at,{get each(){return e.modals},children:t=>[(()=>{const e=Yn.cloneNode(!0);return e.$$click=()=>t.close(),k((()=>e.className="Ma")),e})(),nt(Dt,ct({get component(){return Jn[t.key]}},(()=>t.modalProps),{get close(){return t.close}}))]})),k((()=>t.className="La")),t})(),Mt((()=>t.children))]}})})).use((t=>{const[e,n]=Te({isOpen:!1,items:[]});let r,o;const i=()=>{e.isOpen&&nn(r,!0,{duration:100,easing:"linear"}).finished.then((()=>{n("isOpen",!1),o&&o.focus()}))};let c;window.addEventListener("contextmenu",(t=>{const e=t.composedPath()[0];e instanceof HTMLInputElement&&"text"===e.type||t.preventDefault()}));const s=()=>{queueMicrotask((()=>{Ee(c)||i()}))},u=t=>{t.code===rn.ESC&&(t.preventDefault(),t.stopPropagation(),i())};return nt(dn.Provider,{value:{show:(t,e,i)=>{var c,s;o=e;let u,a=[];"component"in t?u=t.component:a=t,n({isOpen:!0,items:a,component:u});const l=r.getBoundingClientRect(),p={...l,width:null!=(c=i.width)?c:l.width,height:null!=(s=i.height)?s:l.height};let d;d=i.anchor?((t,e,n)=>{const{horizontal:r="left",vertical:o="top"}=n||{},i=e.getBoundingClientRect(),{top:c,left:s}=i,u="top"===o?c:i.bottom-t.height,a="left"===r?s:i.right-t.width;return{top:u,left:a,originY:Math.abs(c-u+i.height/2),originX:Math.abs(s-a+i.width/2)}})(p,e,i.preferredAlign):i.position,((t,e)=>{const n=Math.min(e.top,window.innerHeight-e.height),r=Math.min(e.left,window.innerWidth-e.width);Ue(t,{width:`${e.width}px`,height:`${e.height}px`,top:`${n}px`,left:`${r}px`,"transform-origin":`${e.originX||0}px ${e.originY||0}px`})})(r,{...p,...d}),nn(r,!1,{duration:45,easing:"linear"}),r.animate({transform:["scale(.8)","none"]},{duration:150,easing:"cubic-bezier(0, 0, .2, 1)"}).finished.then((()=>{r.focus()}))}},get children(){return[nt(pt,{get when(){return e.isOpen},get children(){return[(()=>{const t=un.cloneNode(!0);return k((()=>t.className="za")),t})(),(()=>{const t=an.cloneNode(!0);return t.$$focusout=s,t.$$keydown=u,"function"==typeof c?c(t):c=t,t._=C(),Ct(t,nt(pt,{get when(){return!e.component},get fallback(){return(()=>{const t=ln.cloneNode(!0);return"function"==typeof r?r(t):r=t,Ct(t,(()=>e.component)),k((()=>t.className=sn)),t})()},get children(){return nt(cn,{ref(t){"function"==typeof r?r(t):r=t},get class(){return sn},"role-description":"Menu",get children(){return nt(at,{get each(){return e.items},children:t=>(()=>{const e=pn.cloneNode(!0);return e.$$click=()=>{t.action(),i()},Ct(e,(()=>t.name)),k((()=>e.className=We("na -q -t va",t.selected&&"Ba"))),e})()})}})}})),t})()]}}),Mt((()=>t.children))]}})})).mount("body");export{zt as $,Po as A,re as B,kr as C,ut as D,tr as E,at as F,oe as G,Fe as H,Ir as I,bn as J,rn as K,cn as L,Wo as M,cr as N,ar as O,uo as P,wn as Q,vo as R,Lo as S,Lr as T,kn as U,xr as V,mo as W,ho as X,go as Y,$ as Z,yn as _,Kn as a,Ee as a0,Re as a1,P as a2,Dt as a3,Ye as a4,mn as a5,Oe as a6,qe as a7,Xe as a8,Je as a9,k as b,nt as c,Pt as d,pt as e,w as f,C as g,x as h,Ct as i,Le as j,fn as k,Ce as l,tn as m,sr as n,S as o,qr as p,Mt as q,pr as r,We as s,At as t,ee as u,Tr as v,Qn as w,co as x,je as y,Io as z};
